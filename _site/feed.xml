<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.8.4">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2018-11-30T22:14:07+09:00</updated><id>http://localhost:4000/</id><title type="html">Ting’s Square.</title><subtitle>Copyright Ting Ting Hsu</subtitle><entry><title type="html">Day01_rails_project_front_end_design</title><link href="http://localhost:4000/2018/11/08/day01_rails_project_front_end_design.html" rel="alternate" type="text/html" title="Day01_rails_project_front_end_design" /><published>2018-11-08T00:00:00+09:00</published><updated>2018-11-08T00:00:00+09:00</updated><id>http://localhost:4000/2018/11/08/day01_rails_project_front_end_design</id><content type="html" xml:base="http://localhost:4000/2018/11/08/day01_rails_project_front_end_design.html"></content><author><name></name></author><summary type="html"></summary></entry><entry><title type="html">30天修煉Ruby面試精選30題 - Day30 Ruby的duck type + 完賽感言！</title><link href="http://localhost:4000/ruby/interview/2018/11/02/day30_ruby_interview_duck_type.html" rel="alternate" type="text/html" title="30天修煉Ruby面試精選30題 - Day30 Ruby的duck type + 完賽感言！" /><published>2018-11-02T12:58:00+09:00</published><updated>2018-11-02T12:58:00+09:00</updated><id>http://localhost:4000/ruby/interview/2018/11/02/day30_ruby_interview_duck_type</id><content type="html" xml:base="http://localhost:4000/ruby/interview/2018/11/02/day30_ruby_interview_duck_type.html">&lt;p&gt;感動流淚中！沒想到完賽這天Day30終於到來～～。寫IT文章原來可以是這麼有趣的事呢！&lt;/p&gt;

&lt;h1 id=&quot;ruby經典面試題目-30&quot;&gt;Ruby經典面試題目 #30&lt;/h1&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Day30 請解釋Ruby的鴨子型別(duck type)?  What is duck type?&lt;/code&gt;&lt;/p&gt;

&lt;h1 id=&quot;duck-type-鴨子型別&quot;&gt;Duck Type 鴨子型別&lt;/h1&gt;

&lt;blockquote&gt;
  &lt;p&gt;如果你看到一隻鳥走起來像鴨子；游泳起來像鴨子；叫起來也像鴨子；那麼這隻鳥就可以被稱為鴨子。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;參考發明Ruby的Yukihiro Matsumoto所寫的&lt;a href=&quot;https://books.google.com.au/books?id=uYvpBgAAQBAJ&amp;amp;pg=PA109&amp;amp;lpg=PA109&amp;amp;dq=ruby+鴨子型別&quot;&gt;松本行弘談程式世界的未來(電子書)&lt;/a&gt;：&lt;strong&gt;如果只關心物件具備的方法，而不用考慮一個物件究竟是哪個類別的實體，就是鴨子型別。&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Duck type&lt;/code&gt;是一種用來譬喻&lt;code class=&quot;highlighter-rouge&quot;&gt;動態型別語言(Dynamically Typed Language)&lt;/code&gt;的設計風格。這種主要根據&lt;code class=&quot;highlighter-rouge&quot;&gt;特徵&lt;/code&gt;判斷的哲學，可以提供強大的靈活性，實現運行時的&lt;code class=&quot;highlighter-rouge&quot;&gt;多型(polymorphism)&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://lh4.googleusercontent.com/1HfzXVrD9TYsd3WCtrcTX0g47T7rgYtQwMAi37v5M0rFdXbmtIQW5lgjVEgYg61LZQoIEKyy0KzR0ncdBtlclIO-ldapKUkhPNgBv9tnSnwMcT8XjYeczypMc236Gkhxgjm-slua&quot; alt=&quot;黃色小鴨游高雄&quot; /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;If it walks like a duck and quacks like a duck, it must be a duck.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h1 id=&quot;什麼是型別-typing&quot;&gt;什麼是型別 (Typing)&lt;/h1&gt;

&lt;p&gt;大家應該都同意在這個世界上，&lt;code class=&quot;highlighter-rouge&quot;&gt;資源有限，慾望無窮&lt;/code&gt;，如何將電腦的資源(位元組)做有效的利用，是良好程式設計師的功課。指定型別（指定ㄧ種資料型態給一組有用的位元資料），就是一種規劃資源的概念，&lt;/p&gt;

&lt;p&gt;回首過去30天來，我們在鐵人賽第一天Day1的參賽宣言，在Ruby世界裡，幾乎萬物都為物件(Object)。產生物件的過程，需要將某個&lt;code class=&quot;highlighter-rouge&quot;&gt;型別&lt;/code&gt;(Type)&lt;code class=&quot;highlighter-rouge&quot;&gt;實體化&lt;/code&gt;（instantize）。&lt;/p&gt;

&lt;p&gt;記得我們當初將&lt;code class=&quot;highlighter-rouge&quot;&gt;實體化&lt;/code&gt;的例子比喻為&lt;code class=&quot;highlighter-rouge&quot;&gt;生小孩&lt;/code&gt;的過程！而像&lt;a href=&quot;https://ithelp.ithome.com.tw/articles/10201484&quot;&gt;Day11&lt;/a&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;Ruby 的 block, proc, lamdba方法比較&lt;/code&gt;，其中&lt;code class=&quot;highlighter-rouge&quot;&gt;lambda&lt;/code&gt;就是由&lt;code class=&quot;highlighter-rouge&quot;&gt;Proc&lt;/code&gt;建立的實體。&lt;/p&gt;

&lt;h1 id=&quot;動態型別-vs-靜態型別&quot;&gt;動態型別 vs 靜態型別&lt;/h1&gt;

&lt;p&gt;寫了30天的Ruby經典面試題鐵人賽，用各種例子舉下來，我們都可以體會到Ruby就是一種靈活到不行的動態型別語言，&lt;code class=&quot;highlighter-rouge&quot;&gt;Python&lt;/code&gt;也是另一種很popular的動態型別語言。動態型別語言要在運行時，才對型別做判斷（是不是合法的）。&lt;/p&gt;

&lt;p&gt;相較之下，靜態型別語言(Statically Typed Language)如&lt;code class=&quot;highlighter-rouge&quot;&gt;c&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;c++&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;c##&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;Java&lt;/code&gt;，在使用變數之前就必須宣告資料型別，因此類型結構較為嚴謹，方法方便調用，但缺點是可讀性沒有動態語言清晰明瞭。&lt;code class=&quot;highlighter-rouge&quot;&gt;靜態型別語言&lt;/code&gt;在&lt;code class=&quot;highlighter-rouge&quot;&gt;編譯(compile)&lt;/code&gt;階段，就會先進行型別判斷，如果想達到多型的效果，就需要使用&lt;code class=&quot;highlighter-rouge&quot;&gt;繼承&lt;/code&gt;或&lt;code class=&quot;highlighter-rouge&quot;&gt;介面(interface)&lt;/code&gt;這種&lt;code class=&quot;highlighter-rouge&quot;&gt;抽象型別(Abstract type)&lt;/code&gt;。&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;超級比一比&lt;/th&gt;
      &lt;th&gt;靜態型別語言&lt;/th&gt;
      &lt;th&gt;動態型別語言&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;程式語言&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;c++&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;bjective-C&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;Java&lt;/code&gt;…&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Ruby&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;Python&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;Javascript&lt;/code&gt;…&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;何時宣告&lt;/td&gt;
      &lt;td&gt;在使用變數之前就必須宣告資料型別，讓變數具有資料儲存型別。&lt;/td&gt;
      &lt;td&gt;不需事先宣告變數的資料型別，就可以直接指定值&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;型別檢查(type check)&lt;/td&gt;
      &lt;td&gt;在&lt;code class=&quot;highlighter-rouge&quot;&gt;編譯(compile)&lt;/code&gt;階段，就會先進行型別判斷&lt;/td&gt;
      &lt;td&gt;執行時判斷，一行行地將程式碼動態地&lt;code class=&quot;highlighter-rouge&quot;&gt;直譯(interpret)&lt;/code&gt;為機器碼執行，速度較慢。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;多型(polymorphism)&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;繼承&lt;/code&gt;或&lt;code class=&quot;highlighter-rouge&quot;&gt;介面(interface)&lt;/code&gt;的&lt;code class=&quot;highlighter-rouge&quot;&gt;抽象型別(Abstract type)&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;動態。&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;まつもとゆきひろ(Matz先生)認為，&lt;code class=&quot;highlighter-rouge&quot;&gt;型別資訊&lt;/code&gt;與&lt;code class=&quot;highlighter-rouge&quot;&gt;程式執行的本質&lt;/code&gt;無關。而且在某些情況下，先設定好的型別也會造成制約。&lt;/p&gt;

&lt;p&gt;（以上圖例子來說，多了型別資訊的Java，不屬於演算法本身的程式碼占了行數更多呢！）&lt;/p&gt;

&lt;h1 id=&quot;鴨子測試duck-test&quot;&gt;鴨子測試（Duck Test）&lt;/h1&gt;

&lt;p&gt;Ruby在意的不是物件的身份是什麼，而在於他能不能做什麼。
是不是鴨子，可以(是否滿足&lt;code class=&quot;highlighter-rouge&quot;&gt;is-a關係&lt;/code&gt;)可以使用所謂的鴨子測試（Duck Test）進行判斷。&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;MarathonRunner&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;initialize&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;run&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;#same method name&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;I love long-distance running!&quot;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; 

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Ironman&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;initialize&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;run&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#same method name&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;I love running!&quot;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;swim&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;I love swimming!&quot;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;ride&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;I love cycling!&quot;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;  
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;我們在Ruby程式碼宣告了&lt;code class=&quot;highlighter-rouge&quot;&gt;Marathon Runner&lt;/code&gt;,&lt;code class=&quot;highlighter-rouge&quot;&gt;Ironman&lt;/code&gt;兩個類別，&lt;code class=&quot;highlighter-rouge&quot;&gt;Marathon Runner&lt;/code&gt;和&lt;code class=&quot;highlighter-rouge&quot;&gt;Ironman&lt;/code&gt;都有&lt;code class=&quot;highlighter-rouge&quot;&gt;run&lt;/code&gt;方法，（馬拉松選手和鐵人三項選手都要跑步），但這兩個類別並非繼承關係。&lt;/p&gt;

&lt;p&gt;現在來建立第3個類別：&lt;code class=&quot;highlighter-rouge&quot;&gt;Winner&lt;/code&gt;，並且創造一個&lt;code class=&quot;highlighter-rouge&quot;&gt;ITironman&lt;/code&gt;方法，代入&lt;code class=&quot;highlighter-rouge&quot;&gt;name&lt;/code&gt;參數，恭喜任何完成第30天IT邦鐵人賽挑戰選手們的成就！&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Winner&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;initialize&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  
  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;ITironman&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;run&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;ting&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;MarathonRunner&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;bater&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Ironman&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;winner&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Winner&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;winner&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;ITironman&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ting&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;winner&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;ITironman&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bater&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;vlan&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2644&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;19&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;108&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;246&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:Ironman&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tingtinghsu&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ruby&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;duck&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;rb&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;I&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;love&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;long&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;distance&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;running!&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;I&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;love&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;running!&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;鐵人賽就像是一場對&lt;code class=&quot;highlighter-rouge&quot;&gt;自己承諾想要進步更多&lt;/code&gt;的長跑，恭喜完賽的鐵人們！&lt;/p&gt;

&lt;h1 id=&quot;完賽感言&quot;&gt;完賽感言&lt;/h1&gt;

&lt;p&gt;第30篇的面試經典題目選擇&lt;code class=&quot;highlighter-rouge&quot;&gt;鴨子型別&lt;/code&gt;還蠻有意義的！我們在學習一項新的技能（例如&lt;code class=&quot;highlighter-rouge&quot;&gt;學習新的程式語言&lt;/code&gt;），就像挑選用具、出門旅行一樣，必須選擇適合自己任務的工具，並知道自己為什麼做出這樣的選擇(Know your &lt;code class=&quot;highlighter-rouge&quot;&gt;WHY&lt;/code&gt;)。如果以解決問題的角度來說，選擇的工具是什麼材質做的，可能並不是最重要的。&lt;/p&gt;

&lt;p&gt;整個10月份是我非常忙碌的月份（工作、完成國際講師課程認證、旅行、42Ｋ馬拉松完賽、潛水，參加英文演講比賽、去當其他英文演講比賽的評審），但我還是完成了IT鐵人賽！而且所寫的東西我以前完全不熟悉的&lt;code class=&quot;highlighter-rouge&quot;&gt;Ruby&lt;/code&gt;。（鐵人賽前5天時有一種：&lt;code class=&quot;highlighter-rouge&quot;&gt;我常常看不懂自己在寫什麼&lt;/code&gt;的感覺XDDD）&lt;/p&gt;

&lt;p&gt;不過，再怎麼忙，每天都還是平均抽空3小時寫文章，而且為了應付忙碌的生活，我提前準備，事先計劃做的十分充足（甚至用spreadsheet和trello專案管理鐵人賽），總總投入心血，值得驕傲！&lt;/p&gt;

&lt;p&gt;鐵人賽的完成並不是結束，而是個開始～。接下來我有三個計畫：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;把鐵人賽文章修飾完成，改成英文版，放在我的個人blog。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;所有Ruby程式碼整理後放到Github。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;在IT邦寫一個新的系列&lt;code class=&quot;highlighter-rouge&quot;&gt;Rails經典面試題目30題&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;在寫完這篇的三天後，我也要搬到有Matz先生的國度&lt;code class=&quot;highlighter-rouge&quot;&gt;Japan&lt;/code&gt;去，繼續讓Ruby on Rails豐富我下一段的旅程！&lt;/p&gt;

&lt;p&gt;經過這30天內持續的努力，我的心態變得更強壯：）&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;我相信，只要是真心想完成一個目標，沒有事情是可以阻攔的！&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Ref:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://books.google.com.au/books?id=uYvpBgAAQBAJ&amp;amp;pg=PA109&amp;amp;lpg=PA109&amp;amp;dq=ruby+鴨子型別&quot;&gt;松本行弘談程式世界的未來(電子書)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.codedata.com.tw/social-coding/understanding-typing-understanding-ruby/&quot;&gt;【演講稿】Understanding Typing. Understanding Ruby.&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://reader.roodo.com/sholfen/archives/8667217.html&quot;&gt;Ruby語言的Duck Typing&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://hk.saowen.com/a/68faaaa3a965bf21a6bd715fd4f6e41a14a9279d2c22e1854e4732b183909673&quot;&gt;強弱類型、動靜態類型語言嚴格定義&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.ithome.com.tw/node/73445&quot;&gt;程式語言的特性本質（一）－靜態語言與動態語言的信任抉擇&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.ithome.com.tw/node/45903&quot;&gt;思考物件導向(1)物件導向與封裝&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://medium.com/@totoroLiu/%E7%B7%A8%E8%AD%AF%E8%AA%9E%E8%A8%80-vs-%E7%9B%B4%E8%AD%AF%E8%AA%9E%E8%A8%80-5f34e6bae051&quot;&gt;編譯語言 VS 直譯語言&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><summary type="html">感動流淚中！沒想到完賽這天Day30終於到來～～。寫IT文章原來可以是這麼有趣的事呢！</summary></entry><entry><title type="html">30天修煉Ruby面試精選30題 - Day29 Ruby的tap method</title><link href="http://localhost:4000/ruby/interview/2018/11/01/day29_ruby_interview_tap_method.html" rel="alternate" type="text/html" title="30天修煉Ruby面試精選30題 - Day29 Ruby的tap method" /><published>2018-11-01T12:58:00+09:00</published><updated>2018-11-01T12:58:00+09:00</updated><id>http://localhost:4000/ruby/interview/2018/11/01/day29_ruby_interview_tap_method</id><content type="html" xml:base="http://localhost:4000/ruby/interview/2018/11/01/day29_ruby_interview_tap_method.html">&lt;p&gt;倒數第。二。篇！成功就在不遠處，可喜可賀！（翹腳捻鬍鬚～～）&lt;/p&gt;

&lt;h1 id=&quot;ruby經典面試題目-29&quot;&gt;Ruby經典面試題目 #29&lt;/h1&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Day29 請解釋Ruby的tap method?  What is tap method in Ruby?&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Tap method可以幫助我們更容易取得&lt;code class=&quot;highlighter-rouge&quot;&gt;Block區塊&lt;/code&gt;裡的&lt;code class=&quot;highlighter-rouge&quot;&gt;Object&lt;/code&gt;物件，且更便於除錯。（do something with an object inside of a block, and always have that block return the object itself.）&lt;/p&gt;

&lt;h1 id=&quot;tap-public&quot;&gt;tap() public&lt;/h1&gt;

&lt;p&gt;來看看&lt;a href=&quot;https://apidock.com/ruby/Object/tap&quot;&gt;Ruby API文件&lt;/a&gt;的說明：&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Yields x to the block, and then returns x.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Ruby source code:&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;no&quot;&gt;VALUE&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;rb_obj_tap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;VALUE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;rb_yield&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Tap method&lt;/code&gt;幫我們改進了在&lt;a href=&quot;https://ithelp.ithome.com.tw/articles/10201297&quot;&gt;第14天: Ruby 的 block, proc, lamdba方法比較&lt;/a&gt;中我們整理的block的特點：&lt;code class=&quot;highlighter-rouge&quot;&gt;不是物件&lt;/code&gt;、&lt;code class=&quot;highlighter-rouge&quot;&gt;不是參數&lt;/code&gt;、&lt;code class=&quot;highlighter-rouge&quot;&gt;沒有回傳值&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;讀完以下&lt;a href=&quot;https://apidock.com/ruby/Object/tap&quot;&gt;Rails API文件&lt;/a&gt;source code，讓我更明白能表達&lt;code class=&quot;highlighter-rouge&quot;&gt;tap method&lt;/code&gt;的精髓：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# File activesupport/lib/active_support/core_ext/object/misc.rb, line 53&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;tap&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;yield&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;self&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;self&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;真是簡單又好用！&lt;/p&gt;

&lt;h1 id=&quot;例子1--traditional-method-類別與方法&quot;&gt;例子1- traditional method: 類別與方法&lt;/h1&gt;

&lt;p&gt;從2018年10月4日，鐵人賽開賽&lt;a href=&quot;https://ithelp.ithome.com.tw/articles/10199897&quot;&gt;Day1&lt;/a&gt;到今天，我從Ruby新新手慢慢累積，每天累積一點點的觀念釐清，現在寫得出像這樣的架構：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Ironman&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;attr_accessor&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;#class method&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;create_ironman&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ironman&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Ironman&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ironman&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Ting Ting&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ironman&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#回傳值。若在tap method中，此行就可省略&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;ironman&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Ironman&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;create_ironman&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ironman&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;inspect&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;lt;Ironman:0x00007fb9df069d70 @name=&quot;Ting Ting&quot;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;例子2--tap-method&quot;&gt;例子2- Tap Method&lt;/h1&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Tap method&lt;/code&gt;其實是透過透過&lt;code class=&quot;highlighter-rouge&quot;&gt;yield&lt;/code&gt;某個&lt;code class=&quot;highlighter-rouge&quot;&gt;object&lt;/code&gt;物件進入&lt;code class=&quot;highlighter-rouge&quot;&gt;block&lt;/code&gt;，再傳回此&lt;code class=&quot;highlighter-rouge&quot;&gt;object&lt;/code&gt;。(讓我想到投籃得分時，籃球進框再回彈到手中的感覺！)&lt;/p&gt;

&lt;p&gt;所以，我們可以把例子1的傳統方法改成&lt;code class=&quot;highlighter-rouge&quot;&gt;tap method&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Ironman&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;attr_accessor&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;create_ironman&lt;/span&gt;
    &lt;span class=&quot;no&quot;&gt;Ironman&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;tap&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Ting Ting&quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;ironman&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Ironman&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;create_ironman&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ironman&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;inspect&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;lt;Ironman:0x00007f8496949c20 @name=&quot;Ting Ting&quot;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;tap-methhod的用途-檢查method-chain便於除錯&quot;&gt;tap methhod的用途: 檢查method chain，便於除錯&lt;/h1&gt;

&lt;p&gt;有的時候我們寫出一個比較複雜的方法，方法裡還有其他方法（稱為method chain）。Tap method可以幫我們更容易檢測method chain裡的值。(例如在&lt;a href=&quot;https://ithelp.ithome.com.tw/articles/10202250&quot;&gt;第14天&lt;/a&gt;有舉過一個Hash#map結合 Array#map複雜方法的例子。)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The primary purpose of this method is to “tap into” a method chain, in order to perform operations on intermediate results within the chain.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;現在來看看以下案例。我們要從&lt;code class=&quot;highlighter-rouge&quot;&gt;1,2,3,4,5&lt;/code&gt;數字中，像尋找犯人一樣層層找出需要的資訊：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;1 列出陣列值 [1, 2, 3, 4, 5]&lt;/li&gt;
  &lt;li&gt;2 選出偶數的值 [2, 4]&lt;/li&gt;
  &lt;li&gt;3 將選出的偶數做完平方 [4, 16]&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;tap&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;element: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;inspect&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;to_a&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; element: 1..5&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;tap&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;array: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;inspect&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; array: [1, 2, 3, 4, 5]&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;tap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;evens: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;inspect&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; evens: [2, 4]&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;tap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;squares: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;inspect&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; squares: [4, 16]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;tap enables you to “tap into” a method chain and perform some tangential function.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;感想：經過3小時的研究之後，發現Tap method用在&lt;code class=&quot;highlighter-rouge&quot;&gt;集合collection&lt;/code&gt;真的說是非常方便！未來邁向成為資深工程師的道路，寫更複雜的method時，就可以流露出（就算程式碼有錯誤，我也能夠快速找到）的自信了！&lt;/p&gt;

&lt;p&gt;Ref:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://apidock.com/ruby/Object/tap&quot;&gt;API dock: Ruby/Object/tap&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://apidock.com/rails/v2.3.8/Object/tap&quot;&gt;API dock: Rails/Object/tap&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://medium.com/aviabird/ruby-tap-that-method-90c8a801fd6a&quot;&gt;Ruby: Tap that method&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://kronosapiens.github.io/blog/2014/02/16/the-ruby-tap-method-for-objects.html&quot;&gt;The Ruby ‘Tap’ Method for Objects&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=QAJMxBkYaUQ&quot;&gt;The Ruby Tap Method&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><summary type="html">倒數第。二。篇！成功就在不遠處，可喜可賀！（翹腳捻鬍鬚～～）</summary></entry><entry><title type="html">30天修煉Ruby面試精選30題 - Day28 Ruby的 ** (double splat) operator</title><link href="http://localhost:4000/ruby/interview/2018/10/31/day28_ruby_interview_double_splat.html" rel="alternate" type="text/html" title="30天修煉Ruby面試精選30題 - Day28 Ruby的 ** (double splat) operator" /><published>2018-10-31T09:58:00+09:00</published><updated>2018-10-31T09:58:00+09:00</updated><id>http://localhost:4000/ruby/interview/2018/10/31/day28_ruby_interview_double_splat</id><content type="html" xml:base="http://localhost:4000/ruby/interview/2018/10/31/day28_ruby_interview_double_splat.html">&lt;h1 id=&quot;ruby經典面試題目-28&quot;&gt;Ruby經典面試題目 #28&lt;/h1&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Day28 Ruby的**運算子是啥米碗糕? What does ** double splat) operator do?&lt;/code&gt;&lt;/p&gt;

&lt;h1 id=&quot;-single-splat&quot;&gt;* single splat&lt;/h1&gt;

&lt;p&gt;要了解 &lt;code class=&quot;highlighter-rouge&quot;&gt;double splat&lt;/code&gt;前，讓我們先來聊聊 &lt;code class=&quot;highlighter-rouge&quot;&gt;single splat&lt;/code&gt;的用法。&lt;/p&gt;

&lt;h2 id=&quot;1-方法代入的參數將list轉成array&quot;&gt;1. 方法代入的參數：將list轉成array&lt;/h2&gt;

&lt;p&gt;自從IT鐵人賽開始後，我慢慢發現用Ruby程式碼寫日記還挺有趣的！現在建一個可以傳入參數(&lt;code class=&quot;highlighter-rouge&quot;&gt;*args&lt;/code&gt;)&lt;code class=&quot;highlighter-rouge&quot;&gt;ironmandairy&lt;/code&gt;方法，並在方法外設定鐵人賽日記的作者(:ting, &lt;code class=&quot;highlighter-rouge&quot;&gt;:symbol&lt;/code&gt;)，文章數(30, &lt;code class=&quot;highlighter-rouge&quot;&gt;fixnum&lt;/code&gt;)，主題(topic: :ruby, &lt;code class=&quot;highlighter-rouge&quot;&gt;hash&lt;/code&gt;)。為了讓程式碼多樣化，特地想一些型態各自不同的參數，形成數組(&lt;code class=&quot;highlighter-rouge&quot;&gt;list&lt;/code&gt;)：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;ironmandairy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;ironmandairy&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:ting&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;topic: :ruby&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; [:ting, 30, {:topic=&amp;gt;:ruby}]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;我在2018年10月份最重要的&lt;code class=&quot;highlighter-rouge&quot;&gt;project&lt;/code&gt;:鐵人賽日記被印出來啦！資訊包含我的名字、文章數和主題。&lt;/p&gt;

&lt;h2 id=&quot;2-方法代入的參數用block輸出多個值&quot;&gt;2. 方法代入的參數：用block輸出多個值&lt;/h2&gt;

&lt;p&gt;今天是10月的最後一天了。再過5天，我就要離開住了5年的澳洲，搬去另一個國家體驗另一階段的生活，因此最近密集地跟好友們聚餐。我想寫個method印出朋友的名字，紀念這些日子的陪伴：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;say_goodbye&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;friend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;friend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;each&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Thanks &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;! Hope our paths will cross in the future.&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
 
&lt;span class=&quot;n&quot;&gt;say_goodbye&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Claire&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Thomas&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Sarah&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Magrit&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Mia&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Soumen&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Ling&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;no&quot;&gt;Thanks&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Claire&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Hope&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;our&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;paths&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;will&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cross&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;future&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Thanks&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Thomas&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Hope&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;our&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;paths&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;will&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cross&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;future&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Thanks&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Sarah&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Hope&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;our&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;paths&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;will&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cross&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;future&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Thanks&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Magrit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Hope&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;our&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;paths&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;will&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cross&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;future&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Thanks&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Mia&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Hope&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;our&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;paths&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;will&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cross&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;future&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;nf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;..&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;要感謝的朋友太多了～&lt;/p&gt;

&lt;p&gt;那就感謝天吧：）&lt;/p&gt;

&lt;h2 id=&quot;3-方法外使用的時機-將array反轉成list&quot;&gt;3. 方法外使用&lt;code class=&quot;highlighter-rouge&quot;&gt;*&lt;/code&gt;的時機: 將array反轉成list&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;* single splat operator&lt;/code&gt;可以將陣列轉為數組。5天之後我將會從雪梨前往大阪，所以我來寫一個&lt;code class=&quot;highlighter-rouge&quot;&gt;travel&lt;/code&gt; method～期待期待:&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;travel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Hello &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;capitalize&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;. &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;capitalize&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; see you another time!&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;itinerary&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;%w(australia japan)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;travel&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;itinerary&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;no&quot;&gt;Hello&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Japan&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Australia&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;see&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;you&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;another&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;time!&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;single-splat在array裡-代表其他未被指定的值&quot;&gt;*single splat在array裡: 代表其他未被指定的值&lt;/h2&gt;

&lt;p&gt;以上三個例子橫跨了arry, list, hash和block. 現在來用簡單的例子看&lt;code class=&quot;highlighter-rouge&quot;&gt;*&lt;/code&gt;的作用：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; :a&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; :b&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# 只指定陣列中前兩個參數的值&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# :x, :y, :z is missing&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; :a&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; :b&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# 將陣列中沒用到的值給 * single splat operator&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;others&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; 
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; :a&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;others&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt;[:b, :x, :y, :z]&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# 除了第一個值其他不重要的話， *others還可以省略不寫&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;first&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;first&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; :a&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;single-splat-和-double-splat-比較&quot;&gt;*single splat 和 **double splat 比較&lt;/h1&gt;

&lt;p&gt;為了比較&lt;code class=&quot;highlighter-rouge&quot;&gt;*single splat&lt;/code&gt;和 &lt;code class=&quot;highlighter-rouge&quot;&gt;**double splat的差異&lt;/code&gt;，我們來寫一個可以代入三個參數的方法&lt;code class=&quot;highlighter-rouge&quot;&gt;splat&lt;/code&gt;：(OS:你要0顆星、1顆星、還是2顆星??)&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;splat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;接下來是超級&lt;del&gt;大亂鬥&lt;/del&gt;比一比時間了，請各位客倌仔細瞧瞧！&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;splat&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; [0, [], {}]&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;splat&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; [0, [1], {}]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# 不出所料，single splat果然把1轉成Array[1]了&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;splat&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; [0, [1, 2], {}]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# *single splat在array裡: 代表其他未被指定的值，所以把2也搶進來，變成array[1, 2]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# **double splat:顯示為{}，看來跟hash很有關聯&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;splat&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;d: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;e: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; [0, [1, 2], {:d=&amp;gt;3, :e=&amp;gt;4}]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# **double splat:顯示為hash{:d=&amp;gt;3, :e=&amp;gt;4} &lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;splat&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;d: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;e: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; [0, [],{:d=&amp;gt;3, :e=&amp;gt;4}]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# 0指定給a, 其餘並沒有留下任何數值給*single splat: 顯示為空陣列[]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;最後的最後，來寫幾行**double splat的Ruby code，祝大家在鐵人賽旅程的尾聲，旅途愉快！&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;airport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;city&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;iatacode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;city&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;iatacode&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;airport&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;city: &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Osaka'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;code: :KIX&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;airport&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;city: &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Sydney'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;code: :SYD&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;airport&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;city: &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Cairns'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;code: :CNS&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;airport&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;city: &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Taipei'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;code: :TPE&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;airport&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;city: &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Love'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;code: :IOU&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output:&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Osaka&quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:code&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:KIX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;&quot;Sydney&quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:code&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:SYD&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;&quot;Cairns&quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:code&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:CNS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;&quot;Taipei&quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:code&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:TPE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;&quot;Love&quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:code&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:IOU&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;3 &amp;lt;3 &amp;lt;3&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Ref:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/18289152/what-does-a-double-splat-operator-do&quot;&gt;What does a double * (splat) operator do&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://dev.firmafon.dk/blog/splat-goes-ruby/&quot;&gt;Splat goes Ruby&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://dev.firmafon.dk/blog/drat-ruby-has-a-double-splat/&quot;&gt;Drat! - Ruby has a Double Splat&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://andrewberls.com/blog/post/naked-asterisk-parameters-in-ruby&quot;&gt;Naked asterisk parameters in Ruby&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://codeday.me/bug/20170531/18871.html&quot;&gt;ruby – 什么是double *(splat)操作符&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><summary type="html">Ruby經典面試題目 #28</summary></entry><entry><title type="html">30天修煉Ruby面試精選30題 - Day27 Ruby裡的Hash預設值</title><link href="http://localhost:4000/ruby/interview/2018/10/30/day27_ruby_interview_hash_default_value.html" rel="alternate" type="text/html" title="30天修煉Ruby面試精選30題 - Day27 Ruby裡的Hash預設值" /><published>2018-10-30T19:58:00+09:00</published><updated>2018-10-30T19:58:00+09:00</updated><id>http://localhost:4000/ruby/interview/2018/10/30/day27_ruby_interview_hash_default_value</id><content type="html" xml:base="http://localhost:4000/ruby/interview/2018/10/30/day27_ruby_interview_hash_default_value.html">&lt;h1 id=&quot;ruby經典面試題目-27&quot;&gt;Ruby經典面試題目 #27&lt;/h1&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Day27 Ruby的Hash預設值 How to set default value in hash?&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;在&lt;a href=&quot;https://ithelp.ithome.com.tw/articles/10202250&quot;&gt;第14天&lt;/a&gt;的時候，我們曾經提到&lt;code class=&quot;highlighter-rouge&quot;&gt;Hash(雜湊)&lt;/code&gt;是一對&lt;code class=&quot;highlighter-rouge&quot;&gt;key(鍵)&lt;/code&gt;與&lt;code class=&quot;highlighter-rouge&quot;&gt;value(值)&lt;/code&gt;的集合。今天的大哉問是，我們要如何設定預設值呢？&lt;/p&gt;

&lt;p&gt;沒錯！起手式就是來翻閱&lt;a href=&quot;http://ruby-doc.org/core-2.4.2/Hash.html#method-c-new&quot;&gt;Ruby API手冊&lt;/a&gt;看看裡面的例子，並依照我自己的喜好，改寫成容易被我記憶學習的變數。&lt;/p&gt;

&lt;h1 id=&quot;hash-與-array&quot;&gt;Hash 與 Array&lt;/h1&gt;

&lt;p&gt;記得我在&lt;a href=&quot;https://ithelp.ithome.com.tw/articles/10202250&quot;&gt;第14天&lt;/a&gt;使用過銀行帳戶的例子，在這裡繼續沿用類似的情境。假設我創建一個hash記錄我的銀行帳戶名稱和存款金額:&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;hbank&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Hash&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Bank Name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;hbank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;CAN&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;hbank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;NAB&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hbank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;keys&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; 銀行名[&quot;CAN&quot;, &quot;NAB&quot;]&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hbank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;values&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; 存款金額[100, 200]&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hbank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;CAN&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; 100&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hbank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;NAB&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; 200&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;如果我要查閱某個並沒有在此Hash的銀行名稱呢？&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hbank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;WEST&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;           &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; &quot;Bank Name&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;它會出現預設值`Bank Name。&lt;/p&gt;

&lt;p&gt;如果你以為這題面試題這麼簡單，那就大錯特錯了！（&lt;del&gt;不要來～污辱我的美&lt;/del&gt;）我們必須深入探討另一個常見實務場景：如何改動Hash裡的值呢？&lt;/p&gt;

&lt;p&gt;你或許會想到：使用&lt;code class=&quot;highlighter-rouge&quot;&gt;method&lt;/code&gt;!趕快搬出常見的字串方法使一使：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hbank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;WEST&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;           &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; &quot;Bank Name&quot;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hbank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;WEST&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;upcase!&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; &quot;BANK NAME&quot;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hbank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;WEST&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;           &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; &quot;BANK NAME&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://ithelp.ithome.com.tw/articles/10202250&quot;&gt;第14天&lt;/a&gt;講過：&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;加上!驚嘆號的方法，通常代表小心！注意！的意思。&lt;code class=&quot;highlighter-rouge&quot;&gt;Array#.map!&lt;/code&gt;方法會讓原本的物件陣列值被改變！&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;因此這裡的 &lt;code class=&quot;highlighter-rouge&quot;&gt;string#.upcase!&lt;/code&gt;就讓Hash裡的&lt;code class=&quot;highlighter-rouge&quot;&gt;Bank Name&lt;/code&gt;硬生生地變成&lt;code class=&quot;highlighter-rouge&quot;&gt;BANK NAME&lt;/code&gt;了。因此，我們了解到&lt;code class=&quot;highlighter-rouge&quot;&gt;陣列&lt;/code&gt;是個&lt;code class=&quot;highlighter-rouge&quot;&gt;可變的&lt;/code&gt;物件。（Array in Ruby is mutable object）&lt;/p&gt;

&lt;h1 id=&quot;hash-與-block&quot;&gt;Hash 與 Block&lt;/h1&gt;

&lt;p&gt;要預設Hash，我們還必須複習&lt;a href=&quot;https://ithelp.ithome.com.tw/articles/10201297&quot;&gt;第11天&lt;/a&gt;的&lt;code class=&quot;highlighter-rouge&quot;&gt;block(區塊)&lt;/code&gt;，因為Hash和block有密不可分的關係！&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;hbank_key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Hash&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;hash&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;hash&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Bank Name: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hbank_key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ANZ&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;           &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; &quot;Bank Name: ANZ&quot;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hbank_key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ANZ&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;upcase!&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; &quot;BANK NAME: ANZ&quot;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hbank_key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ANZ&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#=&amp;gt; &quot;BANK NAME: ANZ&quot; 變大寫了&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hbank_key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;CBA&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;           &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; &quot;Bank Name: CBA&quot; 還是小寫&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hbank_key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;keys&lt;/span&gt;           &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; [&quot;ANZ&quot;, &quot;CBA&quot;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;hbank_key&lt;/code&gt;這個雜湊的例子比第一個版本&lt;code class=&quot;highlighter-rouge&quot;&gt;hbank&lt;/code&gt;稍微進步，讓&lt;code class=&quot;highlighter-rouge&quot;&gt;hbank_key[&quot;CBA&quot;]&lt;/code&gt;的‘值並不會因為&lt;code class=&quot;highlighter-rouge&quot;&gt;hbank_key[&quot;ANZ&quot;].upcase!&lt;/code&gt;作怪，而受到影響。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/2698460/strange-unexpected-behavior-disappearing-changing-values-when-using-hash-defa&quot;&gt;Stackovrflow 原文&lt;/a&gt;這句話解釋的很清楚：&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;It is the block’s responsibility to store the value in the hash if required.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h1 id=&quot;hash-與-結合比較&quot;&gt;Hash &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;&amp;lt;&lt;/code&gt;與 &lt;code class=&quot;highlighter-rouge&quot;&gt;+=&lt;/code&gt;結合比較&lt;/h1&gt;

&lt;p&gt;如果我們&lt;del&gt;硬要唱反調&lt;/del&gt;，讓Hash設定default value時不使用block，看會發生什麼情況？&lt;/p&gt;

&lt;h2 id=&quot;1-hash-用-指定值&quot;&gt;1. hash: 用 « 指定值&lt;/h2&gt;

&lt;p&gt;我們在&lt;a href=&quot;https://ithelp.ithome.com.tw/articles/10203332&quot;&gt;第17天&lt;/a&gt;已了解到：&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;&amp;lt; 會改變常數&lt;/code&gt;，因此&lt;code class=&quot;highlighter-rouge&quot;&gt;hsh_array[:z]&lt;/code&gt;被指定了新值。&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;hsh_array&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Hash&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([])&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hsh_array&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; {} 預設是空hash&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;hsh_array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'This is symbol a'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;hsh_array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'This is symblo b'&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hsh_array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; [&quot;This is symbol a&quot;, &quot;This is symblo b&quot;]&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hsh_array&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; {} hash不變，仍是空hash&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;2-hash-block-與-&quot;&gt;2. hash, block 與 «&lt;/h2&gt;

&lt;p&gt;例子1 在&lt;code class=&quot;highlighter-rouge&quot;&gt;Hash&lt;/code&gt;內使用&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;&amp;lt;&lt;/code&gt;指定值時(the assignment way)，&lt;code class=&quot;highlighter-rouge&quot;&gt;hsh_array[:z]&lt;/code&gt;原本預設為[]，卻受到[:a]與[:b]的改變而影響：那改成&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;&amp;lt;&lt;/code&gt;(the mutable way)呢？&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;hsh_block&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Hash&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hsh_block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'This is symbol a'&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; [&quot;a&quot;]&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hsh_block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'This is symblo b'&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; [&quot;b&quot;]&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hsh_block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#[]&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hsh_block&lt;/span&gt;            &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; {:a=&amp;gt;[&quot;This is symbol a&quot;], :b=&amp;gt;[&quot;This is symblo b&quot;], :z=&amp;gt;[]}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;3-hash-用--改變值&quot;&gt;3. hash: 用 += 改變值&lt;/h2&gt;

&lt;p&gt;關於串接字串，來複習一下&lt;a href=&quot;https://ithelp.ithome.com.tw/articles/10200836&quot;&gt;第8天&lt;/a&gt;的&lt;code class=&quot;highlighter-rouge&quot;&gt;+=&lt;/code&gt;是&lt;code class=&quot;highlighter-rouge&quot;&gt;mutable&lt;/code&gt;的方法，其&lt;code class=&quot;highlighter-rouge&quot;&gt;object_id&lt;/code&gt;會隨著新串接上的字串，而改變記憶體位置。&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;hsh_plus&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Hash&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([])&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hsh_plus&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; {} 預設是空hash&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hsh_plus&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'This is symbol a'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hsh_plus&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'This is symblo b'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hsh_plus&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; [] 空array&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hsh_plus&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# {:a=&amp;gt;[&quot;This is symbol a&quot;], :b=&amp;gt;[&quot;This is symblo b&quot;]}&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# hash is mutable&amp;lt; 預設值已被改變&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;4-hash-用--與-freeze-固定值&quot;&gt;4. hash: 用 += 與 &lt;code class=&quot;highlighter-rouge&quot;&gt;freeze?&lt;/code&gt; 固定值&lt;/h2&gt;

&lt;p&gt;最後，如果要讓hash的&lt;code class=&quot;highlighter-rouge&quot;&gt;+=&lt;/code&gt;不透過block的作用也能變成&lt;code class=&quot;highlighter-rouge&quot;&gt;imutable&lt;/code&gt;，我們就要來複習&lt;a href=&quot;https://ithelp.ithome.com.tw/articles/10203332&quot;&gt;Day17&lt;/a&gt;的&lt;code class=&quot;highlighter-rouge&quot;&gt;freeze?&lt;/code&gt;方法：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;hsh_freeze&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Hash&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([].&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;freeze&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hsh_freeze&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'This is symbol a'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; [&quot;This is symbol a&quot;]&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hsh_freeze&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'This is symbol b'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; [&quot;This is symbol b&quot;]&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hsh_freeze&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;           &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; [] #=&amp;gt; hash值不受更動，仍為空&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hsh_freeze&lt;/span&gt;              &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; {:a=&amp;gt;[&quot;This is symbol a&quot;], :b=&amp;gt;[&quot;This is symbol b&quot;]}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;結論：&lt;/p&gt;

&lt;p&gt;看完幾篇文章，發現有寫工程師偏好不要變動預設變數、但也有些人偏好能夠更彈性的變動變數，端看個人開發習慣。不過寫完落落長的比較，這個結論你一定要熟記喔！&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;We must store the default value in the &lt;code class=&quot;highlighter-rouge&quot;&gt;hash&lt;/code&gt; from within the &lt;code class=&quot;highlighter-rouge&quot;&gt;block&lt;/code&gt; if we wish to use &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;&amp;lt;&lt;/code&gt; instead of &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;&amp;lt;=&lt;/code&gt;
&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Ref:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://devblast.com/b/ruby-tricks-improve-code&quot;&gt;10 Ruby tricks to improve your code&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/16159370/ruby-hash-default-value-behavior&quot;&gt;Ruby hash default value behavior&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/2698460/strange-unexpected-behavior-disappearing-changing-values-when-using-hash-defa&quot;&gt;Strange, unexpected behavior (disappearing/changing values) when using Hash default value, e.g. Hash.new([])&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://ruby-doc.org/core-2.4.2/Hash.html#method-c-new&quot;&gt;Ruby API: Hash.new&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><summary type="html">Ruby經典面試題目 #27</summary></entry><entry><title type="html">30天修煉Ruby面試精選30題 - Day26 Ruby的錯誤處理機制 Rescue</title><link href="http://localhost:4000/ruby/interview/2018/10/26/day26_ruby_interview_exception_handling_rescue.html" rel="alternate" type="text/html" title="30天修煉Ruby面試精選30題 - Day26 Ruby的錯誤處理機制 Rescue" /><published>2018-10-26T11:58:00+09:00</published><updated>2018-10-26T11:58:00+09:00</updated><id>http://localhost:4000/ruby/interview/2018/10/26/day26_ruby_interview_exception_handling_rescue</id><content type="html" xml:base="http://localhost:4000/ruby/interview/2018/10/26/day26_ruby_interview_exception_handling_rescue.html">&lt;p&gt;有一句話說得好，「不怕一萬，只怕萬一」，如何檢查程式上的錯誤是一件重要的議題。好的工程師會懂得防範於未來。現在我們就來用Ruby練習一下錯誤與例外處理吧！&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;ruby經典面試題目-26&quot;&gt;Ruby經典面試題目 #26&lt;/h1&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Day26 Ruby的錯誤處理機制 Rescue. Explain Error Handling in Ruby.&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Ruby能以區隔的 (compartmentalized) 方式處理錯誤及例外的程式碼區塊，基本架構：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;begin&lt;/code&gt;到&lt;code class=&quot;highlighter-rouge&quot;&gt;rescue&lt;/code&gt;這段區間是程式可能會出錯的地方。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;rescue&lt;/code&gt;到&lt;code class=&quot;highlighter-rouge&quot;&gt;end&lt;/code&gt;是我們對於錯誤真正發生時的反應措施。&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;begin&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#something happens!&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;rescue&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ERROR! Rescue me!'&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; ERROR! Rescue me!&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;舉例&quot;&gt;舉例&lt;/h1&gt;

&lt;p&gt;我們從小學的時候就學過，0不能當分母(denominator)。身為工程師，我們預期會有User不小心（或是故意）輸入了0在分母，因此在&lt;code class=&quot;highlighter-rouge&quot;&gt;rescue&lt;/code&gt;段落，將0用全域變數&lt;code class=&quot;highlighter-rouge&quot;&gt;$!&lt;/code&gt;把&lt;strong&gt;最新的錯誤訊息&lt;/strong&gt;傳進來，並提醒使用者再輸入一次分母：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;begin&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Enter numerator: &quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;gets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Enter denominator: &quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;den&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;gets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;rate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;den&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rate&lt;/span&gt;
  
&lt;span class=&quot;k&quot;&gt;rescue&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;vg&quot;&gt;$!&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Enter denominator other than 0:&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;den&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;gets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  
    &lt;span class=&quot;n&quot;&gt;rate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;den&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rate&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;程式運行過程如下：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;no&quot;&gt;Enter&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;numerator: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Enter&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;denominator: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;divided&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Enter&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;denominator&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;other&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;than&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;[第25天]在看rails文件的&lt;code class=&quot;highlighter-rouge&quot;&gt;.exists&lt;/code&gt;方法是怎麼被刻出來的時候，發現了&lt;code class=&quot;highlighter-rouge&quot;&gt;rescue...end&lt;/code&gt;：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# File activeresource/lib/active_resource/base.rb, line 869&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;exists?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{})&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;prefix_options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;query_options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;split_options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;prefix_options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;query_options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;headers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;code&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;to_i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# id &amp;amp;&amp;amp; !find_single(id, options).nil? id存在且不為空&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;rescue&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ActiveResource&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;ResourceNotFound&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ActiveResource&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;ResourceGone&lt;/span&gt;
  &lt;span class=&quot;kp&quot;&gt;false&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;現在總算看得懂了！&lt;/p&gt;

&lt;p&gt;Ref:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://gist.github.com/kjvarga/ae0d9b3365122b1c2c74b9dd6a7d5226&quot;&gt;Ruby Interview Questions&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://ruby-doc.org/core-2.5.1/Exception.html&quot;&gt;Exception&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ruby-doc.com/docs/ProgrammingRuby/html/tut_exceptions.html&quot;&gt;Exceptions, Catch, and Throw&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.studytonight.com/ruby/exception-handling-in-ruby&quot;&gt;Exception Handling&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://railsfun.tw/t/topic/59&quot;&gt;錯誤處理（ error handling ）&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://pjchender.github.io/2018/06/05/ruby-error-handling%EF%BC%88%E9%8C%AF%E8%AA%A4%E8%99%95%E7%90%86%EF%BC%89/&quot;&gt;[Ruby] Error Handling（錯誤處理）&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://medium.com/@pk60905/rails%E7%9A%84%E9%8C%AF%E8%AA%A4%E8%99%95%E7%90%86%E6%A9%9F%E5%88%B6begin-rescue%E5%92%8Cexception-ab71156a24a2&quot;&gt;Rails的錯誤處理機制begin、rescue和Exception&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://guides.ruby.tw/ruby/rescue.html&quot;&gt;例外處理：救援 Exception processing: rescue&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://rails-weekly.group.iteye.com/group/wiki/1821-rails-questions-weekly-12-ruby-exception-mechanism&quot;&gt;Rails每周一題(十二)：ruby的異常機制&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ruby-china.org/topics/29104&quot;&gt;Ruby 異常處理最佳實踐&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://guides.ruby.tw/ruby/globalvars.html&quot;&gt;全域變數 Global variables&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><summary type="html">有一句話說得好，「不怕一萬，只怕萬一」，如何檢查程式上的錯誤是一件重要的議題。好的工程師會懂得防範於未來。現在我們就來用Ruby練習一下錯誤與例外處理吧！</summary></entry><entry><title type="html">30天修煉Ruby面試精選30題 - Day25 初探 Rails: .present? 和 .exists?比較</title><link href="http://localhost:4000/ruby/interview/2018/10/23/day25_ruby_interview_questions_rails_exists_present.html" rel="alternate" type="text/html" title="30天修煉Ruby面試精選30題 - Day25 初探 Rails: .present? 和 .exists?比較" /><published>2018-10-23T07:51:00+09:00</published><updated>2018-10-23T07:51:00+09:00</updated><id>http://localhost:4000/ruby/interview/2018/10/23/day25_ruby_interview_questions_rails_exists_present</id><content type="html" xml:base="http://localhost:4000/ruby/interview/2018/10/23/day25_ruby_interview_questions_rails_exists_present.html">&lt;p&gt;[昨天]的鐵人賽裡，我們提到了&lt;code class=&quot;highlighter-rouge&quot;&gt;.present?&lt;/code&gt;方法，第一次把腳跨進&lt;code class=&quot;highlighter-rouge&quot;&gt;Rails&lt;/code&gt;的領域，這是一種從&lt;code class=&quot;highlighter-rouge&quot;&gt;Ruby&lt;/code&gt;幼幼班畢業的架勢！&lt;/p&gt;

&lt;p&gt;今天再來研究另一個&lt;code class=&quot;highlighter-rouge&quot;&gt;Rails&lt;/code&gt;方法:&lt;code class=&quot;highlighter-rouge&quot;&gt;.exists?&lt;/code&gt;，從英文字面上來說這兩個方法名字挺像的(&lt;code class=&quot;highlighter-rouge&quot;&gt;.present?&lt;/code&gt;現在?在場?；&lt;code class=&quot;highlighter-rouge&quot;&gt;.exists?&lt;/code&gt;存在?生存?)，讓我們來繼續看下&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;ruby經典面試題目-25&quot;&gt;Ruby經典面試題目 #25&lt;/h1&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Day25 .present? 和.exists?  比較? What is the difference between .present? and .exists?&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;根據我們在這趟鐵人賽journey所養成的好習慣，當學到新的方法時，第一步就是去：翻手冊！&lt;/p&gt;

&lt;h1 id=&quot;present&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;.present?()&lt;/code&gt;&lt;/h1&gt;

&lt;p&gt;從&lt;code class=&quot;highlighter-rouge&quot;&gt;.present()&lt;/code&gt;所在的API手冊網址：https://api.rubyonrails.org/classes/Object.html#method-i-present-3F
我們可以發現&lt;code class=&quot;highlighter-rouge&quot;&gt;.present?()&lt;/code&gt;方法是屬於&lt;code class=&quot;highlighter-rouge&quot;&gt;Object&lt;/code&gt;之下的方法。如果物件Object不是&lt;code class=&quot;highlighter-rouge&quot;&gt;blank&lt;/code&gt;(nil, 空值, 或空白鍵)，就是代表&lt;code class=&quot;highlighter-rouge&quot;&gt;現在；在場&lt;/code&gt;，回傳true。&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;.present?()&lt;/code&gt;: An object is present if it’s not blank.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;@return [true, false]&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# File activesupport/lib/active_support/core_ext/object/blank.rb, line 26&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;present?&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;blank?&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;present與presence&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;.present&lt;/code&gt;與&lt;code class=&quot;highlighter-rouge&quot;&gt;.presence&lt;/code&gt;&lt;/h1&gt;

&lt;p&gt;present是動詞，presence是名詞，我們從&lt;a href=&quot;https://api.rubyonrails.org/classes/Object.html#method-i-presence&quot;&gt;Rails API&lt;/a&gt;發現
這兩者方法可以互相轉換，&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# File activesupport/lib/active_support/core_ext/object/blank.rb, line 46&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;presence&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;self&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;present?&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;present?&lt;/code&gt;可以和&lt;code class=&quot;highlighter-rouge&quot;&gt;presence&lt;/code&gt;互相改寫：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:something&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:something&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;present?&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;變成&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:something&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;presence&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;程式碼從兩行變成一行了呢～～&lt;/p&gt;

&lt;p&gt;如果某物件&lt;code class=&quot;highlighter-rouge&quot;&gt;不在場(present)&lt;/code&gt;，就回傳&lt;code class=&quot;highlighter-rouge&quot;&gt;nil&lt;/code&gt;(returns &lt;code class=&quot;highlighter-rouge&quot;&gt;nil&lt;/code&gt; if object is ‘empty’)&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:something&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;''&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;[].&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;presence&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; nil&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;等同於&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;present?&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;nil&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;exists&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;.exists?&lt;/code&gt;&lt;/h1&gt;

&lt;p&gt;接著來看看&lt;code class=&quot;highlighter-rouge&quot;&gt;.exists()&lt;/code&gt;所在的API手冊網址：
https://api.rubyonrails.org/v3.1/classes/ActiveResource/Base.html#method-c-exists-3F
可以發現&lt;code class=&quot;highlighter-rouge&quot;&gt;.exists()&lt;/code&gt;方法是屬於&lt;code class=&quot;highlighter-rouge&quot;&gt;ActiveResource::Base&lt;/code&gt;下的方法。&lt;/p&gt;

&lt;p&gt;當我們架設一個包含多種功能的動態網站，為了防止效能變差，確保系統資源能被有效利用，我們會先檢查&lt;code class=&quot;highlighter-rouge&quot;&gt;資源是否存在&lt;/code&gt;。&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;exists?(id, options = {})&lt;/code&gt;Asserts the existence of a resource, returning true if the resource is found.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://semaphoreci.com/blog/2017/03/14/faster-rails-how-to-check-if-a-record-exists.html&quot;&gt;這篇文章提到&lt;/a&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Existence checks in Rails&lt;/code&gt;是非常重要的觀念！就好像出門前要先檢查&lt;code class=&quot;highlighter-rouge&quot;&gt;鑰匙&lt;/code&gt;、&lt;code class=&quot;highlighter-rouge&quot;&gt;錢包&lt;/code&gt;、&lt;code class=&quot;highlighter-rouge&quot;&gt;手機&lt;/code&gt;是否隨身攜帶；出國去機場坐飛機前記得檢查是否攜帶&lt;code class=&quot;highlighter-rouge&quot;&gt;護照&lt;/code&gt;，不然就要再回家拿、浪費大把時間與資源、又搞得自己很狼狽喔！&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;no&quot;&gt;IronmanDairy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:title&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Day 24'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:body&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'The importance of Existence checks'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;no&quot;&gt;IronmanDairy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;exists?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; true&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;IronmanDairy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;exists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;9527&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; false&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;來看看rails文件的&lt;code class=&quot;highlighter-rouge&quot;&gt;.exists&lt;/code&gt;方法是怎麼被刻出來的：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# File activeresource/lib/active_resource/base.rb, line 869&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;exists?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{})&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;prefix_options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;query_options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;split_options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;prefix_options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;query_options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;headers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;code&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;to_i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# id &amp;amp;&amp;amp; !find_single(id, options).nil? id存在且不為空&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;rescue&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ActiveResource&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;ResourceNotFound&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ActiveResource&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;ResourceGone&lt;/span&gt;
  &lt;span class=&quot;kp&quot;&gt;false&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;至於什麼是&lt;code class=&quot;highlighter-rouge&quot;&gt;ActiveResource::Base&lt;/code&gt;呢?&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;It is the main class for mapping &lt;code class=&quot;highlighter-rouge&quot;&gt;RESTful&lt;/code&gt; resources as &lt;code class=&quot;highlighter-rouge&quot;&gt;models&lt;/code&gt; in a Rails application.&lt;a href=&quot;https://api.rubyonrails.org/v3.1/classes/ActiveResource/Base.html&quot;&gt;出處&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;這邊的&lt;code class=&quot;highlighter-rouge&quot;&gt;RESTful&lt;/code&gt;和&lt;code class=&quot;highlighter-rouge&quot;&gt;MVC框架&lt;/code&gt;的&lt;code class=&quot;highlighter-rouge&quot;&gt;model&lt;/code&gt;兩個博大精深的概念都可以另外再寫兩本書了，因此限於篇幅，這邊就先暫不提起。（想研究的新手同好可參考:&lt;a href=&quot;https://medium.com/alpha-camp-%E5%8F%B0%E7%81%A3/restful%E8%88%87mvc%E7%9A%84%E6%97%85%E7%A8%8B-%E4%B9%8B-%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E4%B8%8D%E6%87%82%E7%9A%84rails-a4bbc12539e2&quot;&gt;RESTful 與 MVC 的旅程 之 那些年我不懂的 Rails&lt;/a&gt;）等到小妹未來Ruby功力加深後，會續寫30篇Rails面試精選題深入研究的：）&lt;/p&gt;

&lt;h1 id=&quot;present與exists比較&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;.present?&lt;/code&gt;與&lt;code class=&quot;highlighter-rouge&quot;&gt;.exists?&lt;/code&gt;比較&lt;/h1&gt;

&lt;p&gt;由於&lt;code class=&quot;highlighter-rouge&quot;&gt;.present?&lt;/code&gt;來自於&lt;code class=&quot;highlighter-rouge&quot;&gt;ActiveRecord&lt;/code&gt;，&lt;code class=&quot;highlighter-rouge&quot;&gt;.exists&lt;/code&gt;來自於&lt;code class=&quot;highlighter-rouge&quot;&gt;ActiveResource&lt;/code&gt;，它們本質上的意義其實很不同：&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;.present?&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;no&quot;&gt;Ironmen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;where&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;name: &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Ting Ting'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;no&quot;&gt;Ironmen&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Load&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;8.1&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ironmen&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ironmen&quot;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ironmen&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;name&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;vg&quot;&gt;$1&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ASC&lt;/span&gt;  &lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Ting Ting'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;

&lt;span class=&quot;no&quot;&gt;You&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;have&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;initialized&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;an&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;object!&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;You&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;have&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;initialized&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;an&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;object!&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;我們看到了初始化&lt;code class=&quot;highlighter-rouge&quot;&gt;initialized an object&lt;/code&gt;的提示。&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;.exists?&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;no&quot;&gt;Ironmen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;exists?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;name: &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Ting Ting'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;no&quot;&gt;Ironmen&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Exists&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;2.4&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;no&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;one&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ironmen&quot;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ironmen&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;name&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;vg&quot;&gt;$1&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ASC&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;LIMIT&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Ting Ting'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;我們發現&lt;code class=&quot;highlighter-rouge&quot;&gt;.present?&lt;/code&gt;與&lt;code class=&quot;highlighter-rouge&quot;&gt;.exists?&lt;/code&gt;所代表的SQL語法也有所差異：&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;.present?&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;no&quot;&gt;Ironman&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;where&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;name: &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Ting Ting&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;present?&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; SELECT COUNT(*) FROM ironman WHERE ironman.name = &quot;Ting Ting&quot;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;.exists?&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;no&quot;&gt;Ironman&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;exists?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;name: &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Ting Ting&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; SELECT 1 AS one from ironman WHERE name =&quot;Ting Ting&quot; limit 1;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;之前鐵人賽文章曾提到的&lt;code class=&quot;highlighter-rouge&quot;&gt;Benchmark&lt;/code&gt;標竿測試，我們常比較不同的method在不同數量級的資料下，哪一個效能較佳。相信你也可以像我一樣猜到&lt;code class=&quot;highlighter-rouge&quot;&gt;.exist?()&lt;/code&gt;來自於確認請求網路資源是否存在的&lt;code class=&quot;highlighter-rouge&quot;&gt;ActiveResource::Base&lt;/code&gt;，速度當然要飛快才行！&lt;a href=&quot;https://www.ombulabs.com/blog/benchmark/performance/rails/present-vs-any-vs-exists.html&quot;&gt;這篇文章的案例&lt;/a&gt;標竿測試&lt;code class=&quot;highlighter-rouge&quot;&gt;.present?&lt;/code&gt;花了900ms(毫秒)，而&lt;code class=&quot;highlighter-rouge&quot;&gt;.exists?&lt;/code&gt;僅花了1ms!!!&lt;/p&gt;

&lt;p&gt;最後，不免俗地來個超級比一比：）&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;方法&lt;/th&gt;
      &lt;th&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;.present?()&lt;/code&gt;&lt;/th&gt;
      &lt;th&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;.exists?()&lt;/code&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;路徑&lt;/td&gt;
      &lt;td&gt;active_support/core_ext/object/blank.rb&lt;/td&gt;
      &lt;td&gt;activeresource/lib/active_resource/base.rb&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;用途&lt;/td&gt;
      &lt;td&gt;如果物件Object不為&lt;code class=&quot;highlighter-rouge&quot;&gt;blank&lt;/code&gt;(nil, 空值, 或空白鍵)，回傳&lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;若資源存在，回傳&lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;特點&lt;/td&gt;
      &lt;td&gt;利用ActiveRecord初始化物件，效能差&lt;/td&gt;
      &lt;td&gt;ActiveResource下的方法，效能佳&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Ref:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/13186722/what-is-the-difference-between-using-exists-and-present-in-ruby&quot;&gt;What is the difference between using .exists?, and .present? in Ruby?&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/19637499/what-is-the-point-of-object-presence/19637602&quot;&gt;What is the point of object.presence?&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://api.rubyonrails.org/classes/Object.html#method-i-present-3F&quot;&gt;Rails API:present?()&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://api.rubyonrails.org/classes/Object.html#method-i-presence&quot;&gt;Rails API:presence()&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://api.rubyonrails.org/v3.1/classes/ActiveResource/Base.html#method-c-exists-3F&quot;&gt;Rails API:exists?(id, options = {})&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://semaphoreci.com/blog/2017/03/14/faster-rails-how-to-check-if-a-record-exists.html&quot;&gt;Faster Rails: How to Check if a Record Exists&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.ombulabs.com/blog/benchmark/performance/rails/present-vs-any-vs-exists.html&quot;&gt;Present? vs Any? vs Exists?&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.ombulabs.com/blog/benchmark/performance/rails/present-vs-any-vs-exists.html&quot;&gt;empty?, blank?, any?, exists? methods of Ruby on Rails ActiveRecord&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><summary type="html">[昨天]的鐵人賽裡，我們提到了.present?方法，第一次把腳跨進Rails的領域，這是一種從Ruby幼幼班畢業的架勢！</summary></entry><entry><title type="html">30天修煉Ruby面試精選30題 - Day24 nil?, empty? 和, blank? present? 比較?</title><link href="http://localhost:4000/ruby/interview/2018/10/21/day24_ruby_interview_questions_nil_empty_blank.html" rel="alternate" type="text/html" title="30天修煉Ruby面試精選30題 - Day24 nil?, empty? 和, blank? present? 比較?" /><published>2018-10-21T08:51:00+09:00</published><updated>2018-10-21T08:51:00+09:00</updated><id>http://localhost:4000/ruby/interview/2018/10/21/day24_ruby_interview_questions_nil_empty_blank</id><content type="html" xml:base="http://localhost:4000/ruby/interview/2018/10/21/day24_ruby_interview_questions_nil_empty_blank.html">&lt;p&gt;這一系列&lt;code class=&quot;highlighter-rouge&quot;&gt;精選面試題&lt;/code&gt;寫下來，我發現新手工程師對於相似、接近的method或概念都會比較困惑，也難怪熱門面試要考這些題目了！這樣才能鑑別出面試候選人真的有弄懂程式觀念。也希望我整理好的這30篇鐵人賽文章，未來能幫助到許多想學Ruby、進而想找相關工作的新手們！&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;ruby經典面試題目-24&quot;&gt;Ruby經典面試題目 #24&lt;/h1&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Day24 nil?, empty? 和, blank? present? 比較。 what's the difference between nil?, empty?blank? and present? &lt;/code&gt;&lt;/p&gt;

&lt;h1 id=&quot;1-nil&quot;&gt;1. &lt;code class=&quot;highlighter-rouge&quot;&gt;nil?&lt;/code&gt;&lt;/h1&gt;

&lt;p&gt;在[Day21]的文章時，我們有討論到&lt;code class=&quot;highlighter-rouge&quot;&gt;nil&lt;/code&gt;這個&lt;code class=&quot;highlighter-rouge&quot;&gt;虛空&lt;/code&gt;的概念。而&lt;code class=&quot;highlighter-rouge&quot;&gt;nil?&lt;/code&gt;是Ruby裡的方法，可以使用在任何物件，用來判斷該物件&lt;code class=&quot;highlighter-rouge&quot;&gt;是否為nil&lt;/code&gt;，若&lt;code class=&quot;highlighter-rouge&quot;&gt;nil&lt;/code&gt;為真，則傳回&lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt;。&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kp&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;nil?&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; true&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;nil?&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; false&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;nil?&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; false&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;nil?&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; false&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;nil?&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; false&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[].&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;nil?&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; false&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{}.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;nil?&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; false&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;以上7行例子，我們可以發現，只有&lt;code class=&quot;highlighter-rouge&quot;&gt;nil.nil?&lt;/code&gt;才會回傳&lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt;&lt;/p&gt;

&lt;h1 id=&quot;2-empty&quot;&gt;2. &lt;code class=&quot;highlighter-rouge&quot;&gt;empty?&lt;/code&gt;&lt;/h1&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;empty?&lt;/code&gt;也是Ruby的方法，用來檢查&lt;code class=&quot;highlighter-rouge&quot;&gt;集合Collection&lt;/code&gt;是否為空。(It returns true when the object’s length is zero.)&lt;/p&gt;

&lt;p&gt;我們可以用&lt;code class=&quot;highlighter-rouge&quot;&gt;empty?&lt;/code&gt;來測試包含：&lt;code class=&quot;highlighter-rouge&quot;&gt;字串String&lt;/code&gt;、&lt;code class=&quot;highlighter-rouge&quot;&gt;陣列Array&lt;/code&gt;、&lt;code class=&quot;highlighter-rouge&quot;&gt;雜湊Hash&lt;/code&gt;和&lt;code class=&quot;highlighter-rouge&quot;&gt;Set數組&lt;/code&gt;是否為空值。&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s2&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;empty?&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; false **字串內有'空白鍵'的值，非空**&lt;/span&gt;

&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;empty?&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; true 空字串&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[].&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;empty?&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; true 空陣列&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{}.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;empty?&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; true 空雜湊&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;另外的集合例子：&lt;code class=&quot;highlighter-rouge&quot;&gt;Set數組&lt;/code&gt;，是我新學到的Ruby概念:)，指的是一組不重複的值是否為空值(a collection of unordered values with no duplicates)。(進一步說明請看&lt;a href=&quot;https://ruby-doc.org/stdlib-2.5.3/libdoc/set/rdoc/Set.html&quot;&gt;Ruby API 文件&lt;/a&gt;)。&lt;/p&gt;

&lt;p&gt;我們可以想像去餐廳裡點一個&lt;code class=&quot;highlighter-rouge&quot;&gt;Set套餐&lt;/code&gt;，包含一主食、一甜點、一飲料，其中不會有任何重複的食物。在以下程式碼，記得要在第一行引入&lt;code class=&quot;highlighter-rouge&quot;&gt;require 'set'&lt;/code&gt;，不然會出現&lt;code class=&quot;highlighter-rouge&quot;&gt;uninitialized constant Set (NameError)&lt;/code&gt;：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'set'&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;s1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'c'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#設定一個數組，包含數值、字元、符號&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; #&amp;lt;Set: {1, &quot;c&quot;, :s}&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;empty?&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; false, 此數組非空值&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;s2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s2&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#&amp;lt;Set: {}&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;empty?&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; true, 此數組空空如也！&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;empty?&lt;/code&gt;就不像前面一開始提到的&lt;code class=&quot;highlighter-rouge&quot;&gt;nil?&lt;/code&gt;可以作用在任何物件了。舉例來說，&lt;code class=&quot;highlighter-rouge&quot;&gt;True&lt;/code&gt;,&lt;code class=&quot;highlighter-rouge&quot;&gt;False&lt;/code&gt;,&lt;code class=&quot;highlighter-rouge&quot;&gt;Nil&lt;/code&gt;這三個&lt;code class=&quot;highlighter-rouge&quot;&gt;類別class&lt;/code&gt;，都不具有&lt;code class=&quot;highlighter-rouge&quot;&gt;empty?&lt;/code&gt;方法：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;empty?&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; NoMethodError: undefined method `empty?' for true:TrueClass&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;empty?&lt;/span&gt;  
 &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; NoMethodError: undefined method `empty?' for true:TrueClass&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;empty?&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# NoMethodError: undefined method `empty?' for nil:NilClass&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;此外，&lt;code class=&quot;highlighter-rouge&quot;&gt;.empty?&lt;/code&gt;方法也不能使用在&lt;code class=&quot;highlighter-rouge&quot;&gt;Enumerable&lt;/code&gt;列舉，原因是：我們無法確定傳入的參數迭代後，是否仍具有&lt;code class=&quot;highlighter-rouge&quot;&gt;非nil&lt;/code&gt;的傳回值。 (Not every object which iterates and returns values knows if it has any value to return. [&lt;a href=&quot;https://blog.arkency.com/2017/07/nil-empty-blank-ruby-rails-difference/&quot;&gt;原文&lt;/a&gt;])。&lt;/p&gt;

&lt;p&gt;好家在！我在[第20天]曾經有花點時間研究&lt;code class=&quot;highlighter-rouge&quot;&gt;Enumerable&lt;/code&gt;列舉方法的各種可能，&lt;code class=&quot;highlighter-rouge&quot;&gt;當不能確定元素內值的完整資訊&lt;/code&gt;的情況（例如：搜尋不到自己要的字元、字串等）其實還蠻常見的。[&lt;a href=&quot;http://ruby-doc.org/core-2.4.2/Enumerable.html&quot;&gt;再複習一下Ruby API : Enumerable&lt;/a&gt;]&lt;/p&gt;

&lt;p&gt;由今天的例子，我明白到一個道理：使用一個工具(method)之前，要明白它的管轄範圍(隸屬於哪個class的method)，不然就好像&lt;code class=&quot;highlighter-rouge&quot;&gt;提油救火&lt;/code&gt;一樣不合時宜唷！&lt;/p&gt;

&lt;h1 id=&quot;3-blank&quot;&gt;3. &lt;code class=&quot;highlighter-rouge&quot;&gt;blank?&lt;/code&gt;&lt;/h1&gt;

&lt;p&gt;既然&lt;code class=&quot;highlighter-rouge&quot;&gt;empty?&lt;/code&gt;有這麼多使用限制，而可以使用在所有物件的的&lt;code class=&quot;highlighter-rouge&quot;&gt;nil?&lt;/code&gt;又只能確認&lt;code class=&quot;highlighter-rouge&quot;&gt;nil&lt;/code&gt;時為&lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt;，有沒有個各取兩者優勢的好方法呢？&lt;/p&gt;

&lt;p&gt;將將將！終於來到我第一個研究Ruby on Rails的方法：&lt;code class=&quot;highlighter-rouge&quot;&gt;blank?&lt;/code&gt;。我們都知道Rails是基於Ruby寫出的框架，所以想必Rails整合許多Ruby的功能，讓寫出網站的動態功能變成更簡潔的事情。&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;blank?()&lt;/code&gt;就是一個結合我們在前面提到的前兩組方法 &lt;code class=&quot;highlighter-rouge&quot;&gt;nil?&lt;/code&gt;與  &lt;code class=&quot;highlighter-rouge&quot;&gt;empty?&lt;/code&gt;（這也是我第一次認真點開Rails文件&lt;a href=&quot;https://api.rubyonrails.org/classes/Object.html#method-i-blank-3F&quot;&gt;Rails API: blank?()&lt;/a&gt;研究~~怎麼有點興奮的港結！！！）&lt;/p&gt;

&lt;p&gt;來看看rails在&lt;a href=&quot;https://github.com/rails/rails/blob/fc5dd0b85189811062c85520fd70de8389b55aeb/activesupport/lib/active_support/core_ext/object/blank.rb#L19&quot;&gt;Github&lt;/a&gt;上的程式細節，了解它是怎麼改寫的：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# File activesupport/lib/active_support/core_ext/object/blank.rb, line 19&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;blank?&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;respond_to?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:empty?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;empty?&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;self&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#是empty或者self是nil，回傳true&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;因此，&lt;code class=&quot;highlighter-rouge&quot;&gt;address.empty? || !address&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;可以寫成：&lt;code class=&quot;highlighter-rouge&quot;&gt;address.blank?&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&quot;blank為真的情形&quot;&gt;blank?()為真的情形&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://api.rubyonrails.org/classes/Object.html#method-i-blank-3F&quot;&gt;Rails API: blank?()&lt;/a&gt;裡面提到：&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;An object is blank if it’s false, empty, or a whitespace string.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;nil&lt;/code&gt;和&lt;code class=&quot;highlighter-rouge&quot;&gt;false&lt;/code&gt;:是&lt;code class=&quot;highlighter-rouge&quot;&gt;falsy&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;&quot;&lt;/code&gt;是空字串&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&quot; &quot;&lt;/code&gt;是空白鍵&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;[]&lt;/code&gt;是空陣列&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt;是空雜湊&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;They are all blank.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;以Rails程式碼表達如下：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;all?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:blank?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; true&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;我相信大家一定都能理解在製作動態功能網站時類似申請&lt;code class=&quot;highlighter-rouge&quot;&gt;使用者帳號密碼&lt;/code&gt;的場景，密碼字元不能是&lt;code class=&quot;highlighter-rouge&quot;&gt;nil&lt;/code&gt;或&lt;code class=&quot;highlighter-rouge&quot;&gt;empty&lt;/code&gt;。或安插&lt;code class=&quot;highlighter-rouge&quot;&gt;空白鍵&lt;/code&gt;。這在rails裡可以直接整合成&lt;code class=&quot;highlighter-rouge&quot;&gt;blank?()&lt;/code&gt;功能喔（真是太方便了！）&lt;/p&gt;

&lt;h1 id=&quot;4-present&quot;&gt;4. &lt;code class=&quot;highlighter-rouge&quot;&gt;present?&lt;/code&gt;&lt;/h1&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;present?&lt;/code&gt;與&lt;code class=&quot;highlighter-rouge&quot;&gt;blank?&lt;/code&gt;就像一對愛唱反調的兄弟一樣，做的剛好是完全相反的事情(An object is present if it’s not blank. [&lt;a href=&quot;https://api.rubyonrails.org/classes/Object.html#method-i-present-3F&quot;&gt;Rails API&lt;/a&gt;)]&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# File activesupport/lib/active_support/core_ext/object/blank.rb, line 26&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;present?&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;blank?&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;present?&lt;/code&gt;從字面上的意思確認是否存在(非&lt;code class=&quot;highlighter-rouge&quot;&gt;nil&lt;/code&gt;且非&lt;code class=&quot;highlighter-rouge&quot;&gt;空值&lt;/code&gt;且非&lt;code class=&quot;highlighter-rouge&quot;&gt;空白鍵&lt;/code&gt;)，&lt;code class=&quot;highlighter-rouge&quot;&gt;若存在，則回傳True&lt;/code&gt;。present?也是專屬Rails的method。&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;present? is also an ActiveSupport extension to Ruby Object and it is the negation of blank?. &lt;a href=&quot;https://gist.github.com/pythonicrubyist/8114720&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;以Rails程式碼表達如下：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;any?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:present?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; false&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;我發現到自己在鐵人賽第10天之後，只要新學到任何Ruby工具(method)，下意識就會馬上去查Ruby Doc看它們屬於哪個類別、以及將Ruby Doc的例子改寫為自己的使用案例…這真是巨大的成長與蛻變！(給自己拍拍手～～)這或許是更有意識地去學習一套新東西的去強迫自己成長的附加價值吧！：）&lt;/p&gt;

&lt;p&gt;最後，附上&lt;code class=&quot;highlighter-rouge&quot;&gt;超級比一比&lt;/code&gt;統整表格：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;nil?&lt;/th&gt;
      &lt;th&gt;empty?&lt;/th&gt;
      &lt;th&gt;blank?&lt;/th&gt;
      &lt;th&gt;present?&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Ruby&lt;/td&gt;
      &lt;td&gt;Ruby&lt;/td&gt;
      &lt;td&gt;Rails&lt;/td&gt;
      &lt;td&gt;Rails&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;若物件為&lt;code class=&quot;highlighter-rouge&quot;&gt;nil&lt;/code&gt;，則回傳&lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;若&lt;code class=&quot;highlighter-rouge&quot;&gt;集合&lt;/code&gt;(String, Array…etc)的長度為0，則回傳&lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;若&lt;code class=&quot;highlighter-rouge&quot;&gt;nil&lt;/code&gt;或&lt;code class=&quot;highlighter-rouge&quot;&gt;empty&lt;/code&gt;或&lt;code class=&quot;highlighter-rouge&quot;&gt;空白鍵&lt;/code&gt;，則回傳&lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;若此物件存在(非&lt;code class=&quot;highlighter-rouge&quot;&gt;nil&lt;/code&gt;且非&lt;code class=&quot;highlighter-rouge&quot;&gt;empty&lt;/code&gt;)，則回傳&lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Ref:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.arkency.com/2017/07/nil-empty-blank-ruby-rails-difference/&quot;&gt;nil?, empty?, blank? in Ruby on Rails - what’s the difference actually?&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://gist.github.com/pythonicrubyist/8114720&quot;&gt;Difference between nil?, empty?, blank? and present? in Ruby and Ruby on Rasils.&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/885414/a-concise-explanation-of-nil-v-empty-v-blank-in-ruby-on-rails/888877#888877&quot;&gt;A concise explanation of nil v. empty v. blank in Ruby on Rails&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://mgleon08.github.io/blog/2015/12/16/ruby-on-rail-nil-empty-blank-present/&quot;&gt;.nil? .empty? .blank? .present? 傻傻分不清楚？&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.csdn.net/u013435984/article/details/53608920&quot;&gt;Ruby的.nil? .empty? .blank? .present?差别&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ruby-doc.org/stdlib-2.5.3/libdoc/set/rdoc/Set.html&quot;&gt;Ruby API: Set&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://api.rubyonrails.org/classes/Object.html#method-i-blank-3F&quot;&gt;Rails API: blank?&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://api.rubyonrails.org/classes/Object.html#method-i-present-3F&quot;&gt;Rails API: present?&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/rails/rails/blob/fc5dd0b85189811062c85520fd70de8389b55aeb/activesupport/lib/active_support/core_ext/object/blank.rb#L19&quot;&gt;Github: rails/activesupport/lib/active_support/core_ext/object/blank.rb&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><summary type="html">這一系列精選面試題寫下來，我發現新手工程師對於相似、接近的method或概念都會比較困惑，也難怪熱門面試要考這些題目了！這樣才能鑑別出面試候選人真的有弄懂程式觀念。也希望我整理好的這30篇鐵人賽文章，未來能幫助到許多想學Ruby、進而想找相關工作的新手們！</summary></entry><entry><title type="html">30天修煉Ruby面試精選30題 - Day22 and or 和 &amp;amp;&amp;amp; || 比較</title><link href="http://localhost:4000/ruby/interview/2018/10/17/day22_ruby_interview_questions_and_or.html" rel="alternate" type="text/html" title="30天修煉Ruby面試精選30題 - Day22 and or 和 &amp;&amp; || 比較" /><published>2018-10-17T16:51:00+09:00</published><updated>2018-10-17T16:51:00+09:00</updated><id>http://localhost:4000/ruby/interview/2018/10/17/day22_ruby_interview_questions_and_or</id><content type="html" xml:base="http://localhost:4000/ruby/interview/2018/10/17/day22_ruby_interview_questions_and_or.html">&lt;h1 id=&quot;ruby經典面試題目-22&quot;&gt;Ruby經典面試題目 #22&lt;/h1&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Day22 [and], [or] 和 [&amp;amp;&amp;amp;], [||] 比較? What is the difference between [and]&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;[or]&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;[&amp;amp;&amp;amp;]&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;[||]&lt;/code&gt; ?`&lt;/p&gt;

&lt;p&gt;基本上而言：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;and&lt;/code&gt; 就是 &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;amp;&amp;amp;&lt;/code&gt;（且）&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;or&lt;/code&gt; 就是&lt;code class=&quot;highlighter-rouge&quot;&gt;||&lt;/code&gt; （或）&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;and&lt;/code&gt; 和 &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;amp;&amp;amp;&lt;/code&gt; 以及 &lt;code class=&quot;highlighter-rouge&quot;&gt;or&lt;/code&gt; 和 &lt;code class=&quot;highlighter-rouge&quot;&gt;||&lt;/code&gt; 的意思雖然一樣，但就像以前在數學課學過的&lt;code class=&quot;highlighter-rouge&quot;&gt;先乘除後加減&lt;/code&gt;的概念一樣，程式中的運算子之間也具有優先順序之分。符號的&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;amp;&amp;amp;&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;||&lt;/code&gt; 的優先權高於關鍵字&lt;code class=&quot;highlighter-rouge&quot;&gt;and&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;or&lt;/code&gt;(https://ruby-doc.com/core/doc/keywords_rdoc.html)。&lt;/p&gt;

&lt;h1 id=&quot;short-circuit-evaluation-最短路徑計算&quot;&gt;short-circuit evaluation 最短路徑計算&lt;/h1&gt;

&lt;p&gt;事有輕重緩急，資源要放在要緊的地方。要比較哪個運算式先處理之前，在此我們介紹一個概念：&lt;code class=&quot;highlighter-rouge&quot;&gt;short-circuit evaluation&lt;/code&gt;(又稱：短路計算、捷徑計算、最小化計算)。&lt;/p&gt;

&lt;p&gt;當表達式的結果已經確定時，程式會節省資源，減少不必要的運算。不管是&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;amp;&amp;amp;&lt;/code&gt;.&lt;code class=&quot;highlighter-rouge&quot;&gt;||&lt;/code&gt;還是&lt;code class=&quot;highlighter-rouge&quot;&gt;and&lt;/code&gt;.&lt;code class=&quot;highlighter-rouge&quot;&gt;or&lt;/code&gt;，都會符合&lt;code class=&quot;highlighter-rouge&quot;&gt;最短路徑計算&lt;/code&gt;原則。&lt;/p&gt;

&lt;p&gt;舉個例子來說：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;true&quot;&lt;/span&gt;  
&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;false&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; false&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;在以上的例子裡，&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;amp;&amp;amp;&lt;/code&gt;代表括弧內的條件判斷必須&lt;code class=&quot;highlighter-rouge&quot;&gt;全部為真&lt;/code&gt;才成立。一開始我們指定&lt;code class=&quot;highlighter-rouge&quot;&gt;a = 0&lt;/code&gt;，因此，在&lt;code class=&quot;highlighter-rouge&quot;&gt;if (a==1)&lt;/code&gt;這個敘述為&lt;code class=&quot;highlighter-rouge&quot;&gt;false&lt;/code&gt;的情況，&lt;strong&gt;我們不需要走完下一條判斷式&lt;code class=&quot;highlighter-rouge&quot;&gt;b%2 == 1 (b為奇數)&lt;/code&gt;&lt;/strong&gt;，這就是「最短路徑計算」。&lt;/p&gt;

&lt;h1 id=&quot;使用---不要使用-and-or&quot;&gt;使用 &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;amp;&amp;amp;&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;||&lt;/code&gt; ，不要使用 &lt;code class=&quot;highlighter-rouge&quot;&gt;and&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;or&lt;/code&gt;&lt;/h1&gt;

&lt;p&gt;根據&lt;a href=&quot;https://github.com/rubocop-hq/ruby-style-guide&quot;&gt;RuboCop Headquarters&lt;/a&gt;的Ruby Style Guide：&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;and&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;or&lt;/code&gt; keywords are banned. The minimal added readability is just not worth the high probability of introducing subtle bugs. For boolean expressions, always use &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;amp;&amp;amp;&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;||&lt;/code&gt; instead.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;由於&lt;code class=&quot;highlighter-rouge&quot;&gt;優先權(precedence)&lt;/code&gt;的問題，&lt;code class=&quot;highlighter-rouge&quot;&gt;and&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;or&lt;/code&gt;是很容易出bug的：&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;… &lt;code class=&quot;highlighter-rouge&quot;&gt;and&lt;/code&gt; even has lower precedence than &lt;code class=&quot;highlighter-rouge&quot;&gt;=&lt;/code&gt;. &lt;a href=&quot;https://stackoverflow.com/questions/1426826/difference-between-and-and-in-ruby&quot;&gt;出處&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;因此，再次強調，使用 &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;amp;&amp;amp;&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;||&lt;/code&gt; ，不要使用 &lt;code class=&quot;highlighter-rouge&quot;&gt;and&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;or&lt;/code&gt;。&lt;/p&gt;

&lt;h1 id=&quot;-與-and--有初始值的情況下&quot;&gt;&amp;amp;&amp;amp; 與 and : 有初始值的情況下&lt;/h1&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;amp;&amp;amp;&lt;/code&gt; 與 &lt;code class=&quot;highlighter-rouge&quot;&gt;and&lt;/code&gt; 都是&lt;code class=&quot;highlighter-rouge&quot;&gt;且&lt;/code&gt;的意思。&lt;/p&gt;

&lt;p&gt;我的鐵人賽日記&lt;code class=&quot;highlighter-rouge&quot;&gt;IronmanDairy&lt;/code&gt; 來到第22天，且第22天是個偶數天，顯示為true.&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;no&quot;&gt;IronmanDairy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;22&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;IronmanDairy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;22&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;IronmanDairy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#=&amp;gt;true&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;和&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;no&quot;&gt;IronmanDairy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;22&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;IronmanDairy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;22&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;IronmanDairy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#=&amp;gt;true&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;結果相同。&lt;/p&gt;

&lt;p&gt;以上例子，我們明白到 &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;amp;&amp;amp;&lt;/code&gt;和 &lt;code class=&quot;highlighter-rouge&quot;&gt;and&lt;/code&gt; 可以確認一串條件判斷式，其中是否有&lt;code class=&quot;highlighter-rouge&quot;&gt;false&lt;/code&gt;或&lt;code class=&quot;highlighter-rouge&quot;&gt;nil&lt;/code&gt;的部分，&lt;code class=&quot;highlighter-rouge&quot;&gt;全部為true&lt;/code&gt;的情況，才會通過條件判斷。&lt;/p&gt;

&lt;h1 id=&quot;-的優先權高於-&quot;&gt;&amp;amp;&amp;amp; 的優先權高於 &lt;code class=&quot;highlighter-rouge&quot;&gt;=&lt;/code&gt;&lt;/h1&gt;

&lt;p&gt;談到優先權，開車的朋友可以聯想到路權，直行車的權利大於轉彎車。 &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;amp;&amp;amp;&lt;/code&gt; 就像直行車一樣：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;IronmanDairy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;22&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;IronmanDairy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;#undefined method `%' for nil:NilClass (NoMethodError)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;我們可以理解到，上列程式會出現NoMethodError的原因是&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;amp;&amp;amp;&lt;/code&gt;有較高的優先權，對Ruby來說，意思是：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;IronmanDairy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;22&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;IronmanDairy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;由於&lt;code class=&quot;highlighter-rouge&quot;&gt;IronmanDairy&lt;/code&gt;尚未初始化(uninitialized)，而讓&lt;code class=&quot;highlighter-rouge&quot;&gt;22 &amp;amp;&amp;amp; IronmanDairy&lt;/code&gt; 為&lt;code class=&quot;highlighter-rouge&quot;&gt;NilClass&lt;/code&gt;，然而NilClass 除以2是無意義的。&lt;/p&gt;

&lt;p&gt;如果我們把同一條件判斷式，加上適當的括弧：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;IronmanDairy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;IronmanDairy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;#=&amp;gt; true&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;就可以完成我們要達到的語義目的：&lt;/p&gt;

&lt;p&gt;給定鐵人賽日記&lt;code class=&quot;highlighter-rouge&quot;&gt;IronmanDairy&lt;/code&gt;這個值為22，且22是個偶數，顯示為true.&lt;/p&gt;

&lt;h1 id=&quot;and-的優先權低於-&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;and&lt;/code&gt; 的優先權低於 &lt;code class=&quot;highlighter-rouge&quot;&gt;=&lt;/code&gt;&lt;/h1&gt;

&lt;p&gt;而在上述案例，若 &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;amp;&amp;amp;&lt;/code&gt; 改成 &lt;code class=&quot;highlighter-rouge&quot;&gt;and&lt;/code&gt; 的意思，就天差地遠了：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;IronmanDairy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;22&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;IronmanDairy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; 22&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;IronmanDairy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;IronmanDairy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; 22&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;不管括弧是否存在，結果已經變成印出了&lt;code class=&quot;highlighter-rouge&quot;&gt;IronmanDairy指定的數值22&lt;/code&gt;，而不是出現我們想判斷的布林值&lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt;，因為&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;IronmanDairy = 22&lt;/code&gt;的 &lt;code class=&quot;highlighter-rouge&quot;&gt;=&lt;/code&gt; 比 &lt;code class=&quot;highlighter-rouge&quot;&gt;and&lt;/code&gt; 的優先權還高。為了防止誤會大了，產生的bug又難以偵錯，請不要用&lt;code class=&quot;highlighter-rouge&quot;&gt;and&lt;/code&gt;或&lt;code class=&quot;highlighter-rouge&quot;&gt;or&lt;/code&gt;喔！&lt;/p&gt;

&lt;h1 id=&quot;番外篇control-flow-modifiers&quot;&gt;番外篇：Control-flow modifiers&lt;/h1&gt;

&lt;h2 id=&quot;and-和-or-的取代語法&quot;&gt;and 和 or 的取代語法&lt;/h2&gt;

&lt;h3 id=&quot;and-關鍵字與if&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;and&lt;/code&gt; 關鍵字與&lt;code class=&quot;highlighter-rouge&quot;&gt;if&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;有的時候，我們點擊動態網站中的連結，會跳出&lt;code class=&quot;highlighter-rouge&quot;&gt;(showup)&lt;/code&gt;意想不到的視窗&lt;code class=&quot;highlighter-rouge&quot;&gt;(suprise)&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;suprise&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;suprise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;showup&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;next&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;寫法等同於&lt;code class=&quot;highlighter-rouge&quot;&gt;if&lt;/code&gt;(如果跳出視窗，就進行下一步&lt;code class=&quot;highlighter-rouge&quot;&gt;next&lt;/code&gt;):&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;next&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;suprise&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;suprise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;showup&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;如同把 &lt;code class=&quot;highlighter-rouge&quot;&gt;I am hungry and I eat an apple&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;改寫為&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;I wanna eat an apple if I am hungry!&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;把&lt;code class=&quot;highlighter-rouge&quot;&gt;and&lt;/code&gt;改&lt;code class=&quot;highlighter-rouge&quot;&gt;if&lt;/code&gt;，這樣是不是比較類似英文語法的邏輯呢？：）&lt;/p&gt;

&lt;h3 id=&quot;or-關鍵字與unless&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;or&lt;/code&gt; 關鍵字與&lt;code class=&quot;highlighter-rouge&quot;&gt;unless&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;而有的時候，我們點擊連結想連到某個頁面，會出現&lt;code class=&quot;highlighter-rouge&quot;&gt;錯誤訊息404:找不到此網頁&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;read_article&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()?&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;raise&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Could not find this article!&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;我們可以寫成：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;raise&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Could not find this article!&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;unless&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;read_article&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()?&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;如同把 &lt;code class=&quot;highlighter-rouge&quot;&gt;Do exercise, or you won't be healthy!&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;改寫為&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;You won't be healthy unless you do exercise!&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;不過，&lt;a href=&quot;https://github.com/airbnb/ruby&quot;&gt;Airbnb&lt;/a&gt;的Ruby Style Guide有提到，只有在簡單可寫成一行的情況再使用&lt;code class=&quot;highlighter-rouge&quot;&gt;if/unless&lt;/code&gt;唷！&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Modifier if/unless usage is okay when the body is simple, the condition is simple, and the whole thing fits on one line. Otherwise, avoid modifier if/unless. &lt;a href=&quot;https://github.com/airbnb/ruby&quot;&gt;link&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/1426826/difference-between-and-and-in-ruby&quot;&gt;Difference between “and” and &amp;amp;&amp;amp; in Ruby?&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://www.virtuouscode.com/2010/08/02/using-and-and-or-in-ruby/&quot;&gt;Using “and” and “or” in Ruby&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/1426826/difference-between-and-and-in-ruby&quot;&gt;Difference between “and” and &amp;amp;&amp;amp; in Ruby?&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><summary type="html">Ruby經典面試題目 #22</summary></entry><entry><title type="html">30天修煉Ruby面試精選30題 - Day23 Ruby的’==’，’===’ ‘eql?’ ‘equal?’</title><link href="http://localhost:4000/ruby/interview/2018/10/17/day23_ruby_interview_questions_equal.html" rel="alternate" type="text/html" title="30天修煉Ruby面試精選30題 - Day23 Ruby的'=='，'===' 'eql?' 'equal?'" /><published>2018-10-17T08:39:00+09:00</published><updated>2018-10-17T08:39:00+09:00</updated><id>http://localhost:4000/ruby/interview/2018/10/17/day23_ruby_interview_questions_equal</id><content type="html" xml:base="http://localhost:4000/ruby/interview/2018/10/17/day23_ruby_interview_questions_equal.html">&lt;p&gt;前幾天我們把焦點集中在&lt;code class=&quot;highlighter-rouge&quot;&gt;True or False&lt;/code&gt;(判斷真假)，今天來研究幾個&lt;code class=&quot;highlighter-rouge&quot;&gt;比較是否相等&lt;/code&gt;的方法！在程式世界裡，&lt;code class=&quot;highlighter-rouge&quot;&gt;真假&lt;/code&gt;與&lt;code class=&quot;highlighter-rouge&quot;&gt;相等&lt;/code&gt;都有更多元、更超乎想像的概念。如果是程式新手，可能會對這幾個看起來特別像的運算子：&lt;code class=&quot;highlighter-rouge&quot;&gt;==&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;===&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;eql?&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;equal?&lt;/code&gt;充滿黑人問號…???&lt;/p&gt;

&lt;p&gt;趕快來看看今天的題目！&lt;/p&gt;

&lt;h1 id=&quot;ruby經典面試題目-23&quot;&gt;Ruby經典面試題目 #23&lt;/h1&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Day23 解釋Ruby裡的 ==, ===, eql?, equal。 Explain each of the following operators  ==, ===, eql?, equal?&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;有些方法比其他的方法更相等(Some are more equal than others)。這是怎麼回事？讓我們繼續看下去～&lt;/p&gt;

&lt;h1 id=&quot;1-&quot;&gt;1. &lt;code class=&quot;highlighter-rouge&quot;&gt;==&lt;/code&gt;&lt;/h1&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;==&lt;/code&gt; 檢查兩個運算子的&lt;code class=&quot;highlighter-rouge&quot;&gt;值&lt;/code&gt;是否相等 (check if the value of two operands are equal)&lt;/p&gt;

&lt;h1 id=&quot;2-eql&quot;&gt;2. &lt;code class=&quot;highlighter-rouge&quot;&gt;eql?&lt;/code&gt;&lt;/h1&gt;

&lt;p&gt;如果接收器和參數的&lt;code class=&quot;highlighter-rouge&quot;&gt;值&lt;/code&gt;和&lt;code class=&quot;highlighter-rouge&quot;&gt;類型&lt;/code&gt;都相等，則為&lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt;. ( checks if the &lt;code class=&quot;highlighter-rouge&quot;&gt;value&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;type of two operands&lt;/code&gt; are the same )，&lt;/p&gt;

&lt;h2 id=&quot;eql與--比較&quot;&gt;eql?與 == 比較&lt;/h2&gt;

&lt;p&gt;來比較一下&lt;code class=&quot;highlighter-rouge&quot;&gt;==&lt;/code&gt;和&lt;code class=&quot;highlighter-rouge&quot;&gt;.eql?&lt;/code&gt;的用法：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;100.0&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; true&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;eql?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;100.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#=&amp;gt; false&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;從以上例子看到&lt;code class=&quot;highlighter-rouge&quot;&gt;100&lt;/code&gt;與&lt;code class=&quot;highlighter-rouge&quot;&gt;100.0&lt;/code&gt;同樣皆為數值1，但&lt;code class=&quot;highlighter-rouge&quot;&gt;1&lt;/code&gt;的類型為&lt;code class=&quot;highlighter-rouge&quot;&gt;Fixnum&lt;/code&gt;，&lt;code class=&quot;highlighter-rouge&quot;&gt;1.0&lt;/code&gt;的類型為&lt;code class=&quot;highlighter-rouge&quot;&gt;Float&lt;/code&gt;浮點數（包含小數點）。&lt;/p&gt;

&lt;h1 id=&quot;3-&quot;&gt;3. &lt;code class=&quot;highlighter-rouge&quot;&gt;===&lt;/code&gt;&lt;/h1&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;===&lt;/code&gt; 測試case語法中、when子句內的相等性 (test equality within the when clause of a case statement)&lt;/p&gt;

&lt;p&gt;舉個生活化的例子來描述case語法：&lt;/p&gt;

&lt;p&gt;下週我要出遠門旅行，因此我規劃去超市裡購物，在旅行大背包裡放一些食物補給品。我想要以[第7天]學到的符號Symbol將food歸類：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;type_of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;food&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;food&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Apple'&lt;/span&gt;
    &lt;span class=&quot;ss&quot;&gt;:fruit&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Banana'&lt;/span&gt;
    &lt;span class=&quot;ss&quot;&gt;:fruit&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Chocolate'&lt;/span&gt;
    &lt;span class=&quot;ss&quot;&gt;:sweet&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Noodles'&lt;/span&gt;
    &lt;span class=&quot;ss&quot;&gt;:meal&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Chips'&lt;/span&gt;
    &lt;span class=&quot;ss&quot;&gt;:junkfood&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
    &lt;span class=&quot;ss&quot;&gt;:unknown&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type_of&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Chips'&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; :junkfood&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;hmmm….被發現買洋芋片是&lt;code class=&quot;highlighter-rouge&quot;&gt;垃圾食物了&lt;/code&gt;了！&lt;/p&gt;

&lt;h2 id=&quot;-與-if-else&quot;&gt;=== 與 if else&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;===&lt;/code&gt;代表的是 &lt;code class=&quot;highlighter-rouge&quot;&gt;case equality&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;以上的&lt;code class=&quot;highlighter-rouge&quot;&gt;case...when&lt;/code&gt;，其實是從&lt;code class=&quot;highlighter-rouge&quot;&gt;if...else&lt;/code&gt;加上&lt;code class=&quot;highlighter-rouge&quot;&gt;===&lt;/code&gt;的語法改寫而來。&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;type_of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;food&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'apple'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;food&lt;/span&gt;
    &lt;span class=&quot;ss&quot;&gt;:fruit&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;elsif&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Chocolate'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;food&lt;/span&gt;
    &lt;span class=&quot;ss&quot;&gt;:sweet&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;elsif&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Noodles'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;food&lt;/span&gt;
    &lt;span class=&quot;ss&quot;&gt;:meal&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;elsif&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Chips'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;food&lt;/span&gt;
    &lt;span class=&quot;ss&quot;&gt;:junkfood&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
    &lt;span class=&quot;ss&quot;&gt;:unknown&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type_of&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Nuts'&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; :unknown&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;旅行時買一些腰果核桃補充能量，比洋芋片建康一些。XD&lt;/p&gt;

&lt;p&gt;補充一下：Ruby的&lt;code class=&quot;highlighter-rouge&quot;&gt;when&lt;/code&gt;後面可以放多個參數，讓程式更簡潔，因此我來放更多的食物&lt;code class=&quot;highlighter-rouge&quot;&gt;Orange&lt;/code&gt;和&lt;code class=&quot;highlighter-rouge&quot;&gt;Bread&lt;/code&gt;進去旅行大背包：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;type_of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;food&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;food&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Apple'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Banana'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Orange'&lt;/span&gt;
    &lt;span class=&quot;ss&quot;&gt;:fruit&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Chocolate'&lt;/span&gt;
    &lt;span class=&quot;ss&quot;&gt;:sweet&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Noodles'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Bread'&lt;/span&gt;
    &lt;span class=&quot;ss&quot;&gt;:meal&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Chips'&lt;/span&gt;
    &lt;span class=&quot;ss&quot;&gt;:junkfood&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
    &lt;span class=&quot;ss&quot;&gt;:unknown&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type_of&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Orange'&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; :fruit&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;-不是-&quot;&gt;=== 不是 ==&lt;/h2&gt;

&lt;p&gt;從以上大背包放食物的例子我們可以發現，&lt;code class=&quot;highlighter-rouge&quot;&gt;===&lt;/code&gt;比的是&lt;code class=&quot;highlighter-rouge&quot;&gt;case equality in case statement&lt;/code&gt;(更近一步來說，比的是上層的類別物件class object)，所以以下四條判斷式，會顯示為全部為真：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Class&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Class&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Object&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Class&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Object&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Class&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# all true. 萬物皆為物件!&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;比較tricky的部分是&lt;code class=&quot;highlighter-rouge&quot;&gt;Fixnum&lt;/code&gt;，我發現到了如果將&lt;code class=&quot;highlighter-rouge&quot;&gt;Fixnum&lt;/code&gt;擺在&lt;code class=&quot;highlighter-rouge&quot;&gt;===(threequality)&lt;/code&gt;的右邊，結果為假：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; true&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Fixnum&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; true&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Fixnum&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; false&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Fixnum&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Fixnum&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; false&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#warning: constant ::Fixnum is deprecated&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.google.com/presentation/d/1cqdp89_kolr4q1YAQaB-6i5GXip8MHyve8MvQ_1r6_s/edit#slide=id.g2fa7c811_0_12&quot;&gt;Ruby Gotchas&lt;/a&gt;這份slide説明:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;A better name (IMHO, 以我的觀點來說) might be &lt;code class=&quot;highlighter-rouge&quot;&gt;.describes?&lt;/code&gt;, or overload &lt;code class=&quot;highlighter-rouge&quot;&gt;.includes?&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;這或許就是為什麼我們不能把&lt;code class=&quot;highlighter-rouge&quot;&gt;拿來比較&lt;/code&gt;的參數放在左邊，而是&lt;code class=&quot;highlighter-rouge&quot;&gt;右邊&lt;/code&gt;：）&lt;/p&gt;

&lt;h2 id=&quot;--與-regular-expression&quot;&gt;===, == 與 Regular Expression&lt;/h2&gt;
&lt;p&gt;
使用&lt;code class=&quot;highlighter-rouge&quot;&gt;===&lt;/code&gt;的好處就是可以用&lt;code class=&quot;highlighter-rouge&quot;&gt;正規表示式&lt;/code&gt;提取、比較更多符合我們需求的條件。從以上的結論我們發現要將正規表示式放左邊。參考&lt;a href=&quot;https://ruby-doc.org/core-2.5.1/Regexp.html#Public%20Instance%20Methods&quot;&gt;Ruby Doc 關於Regexp方法下的Public Instance Methods這頁說明&lt;/a&gt;，我們可以分別用 &lt;code class=&quot;highlighter-rouge&quot;&gt;===&lt;/code&gt;和 &lt;code class=&quot;highlighter-rouge&quot;&gt;==&lt;/code&gt; 了解各項舉例是否為真：&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/banana/&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'banana'&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; true&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/banana/&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/banana/&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; false&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/banana/&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'banana'&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; false&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/banana/&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/banana/&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; true&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;為何在上述&lt;code class=&quot;highlighter-rouge&quot;&gt;banana&lt;/code&gt;的例子裡，&lt;code class=&quot;highlighter-rouge&quot;&gt;/banana/ === 'banana'&lt;/code&gt;為真，而
&lt;code class=&quot;highlighter-rouge&quot;&gt;/banana/ == 'banana'&lt;/code&gt; 為假呢?&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Regexp#===&lt;/code&gt;是用來&lt;code class=&quot;highlighter-rouge&quot;&gt;比對(match)&lt;/code&gt;字串是否包含&lt;code class=&quot;highlighter-rouge&quot;&gt;/正規表示式/&lt;/code&gt;裡的字符號 (tests whether or not the argument matches the regular expression.)。而在此例子裡，&lt;code class=&quot;highlighter-rouge&quot;&gt;'banana'&lt;/code&gt;字串的確包含&lt;code class=&quot;highlighter-rouge&quot;&gt;banana&lt;/code&gt;這些字符號。&lt;/p&gt;

&lt;p&gt;但&lt;code class=&quot;highlighter-rouge&quot;&gt;/banana/&lt;/code&gt;和&lt;code class=&quot;highlighter-rouge&quot;&gt;'banana'&lt;/code&gt;本身並&lt;code class=&quot;highlighter-rouge&quot;&gt;不是同一個值&lt;/code&gt;，所以&lt;code class=&quot;highlighter-rouge&quot;&gt;==&lt;/code&gt;結果為假。&lt;/p&gt;

&lt;h1 id=&quot;4-equal&quot;&gt;4. &lt;code class=&quot;highlighter-rouge&quot;&gt;equal?&lt;/code&gt;&lt;/h1&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;equal?&lt;/code&gt; : 如果接收器和參數的&lt;code class=&quot;highlighter-rouge&quot;&gt;物件id&lt;/code&gt;(記憶體位置)相同，則為&lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt; (compares if both operands refer to the same object i.e. have the same object id)&lt;/p&gt;

&lt;h2 id=&quot;equal-與-eql-與--比較&quot;&gt;equal? 與 eql? 與 == 比較&lt;/h2&gt;

&lt;p&gt;最後我們來用Ruby is Awesome作為總結吧！&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;n&quot;&gt;ruby&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;awesome&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;rails&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;awesome&quot;&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ruby&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rails&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; true #ruby和rails都很awesome!&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ruby&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;eql?&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rails&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; true&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# ruby和rails不但都很awesome, 而且兩者的類型都是字串(string)!&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ruby&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;equal?&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rails&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; false&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#ruby和rails分別存在不同的記憶體位置，它們不是同一個物件&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ruby&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;object_id&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#70263932897220&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rails&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;object_id&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#70263932897160&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;超級比一比：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;== (等於)&lt;/th&gt;
      &lt;th&gt;===&lt;/th&gt;
      &lt;th&gt;eql?&lt;/th&gt;
      &lt;th&gt;equal?&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;檢查兩個運算子的值是否相等&lt;/td&gt;
      &lt;td&gt;測試case語法中的&lt;code class=&quot;highlighter-rouge&quot;&gt;when子句相等性&lt;/code&gt; (object class)&lt;/td&gt;
      &lt;td&gt;如果接收器和&lt;code class=&quot;highlighter-rouge&quot;&gt;參數的值&lt;/code&gt;和&lt;code class=&quot;highlighter-rouge&quot;&gt;類型&lt;/code&gt;都相等，則為&lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;如果接收器和參數的&lt;code class=&quot;highlighter-rouge&quot;&gt;object id&lt;/code&gt;相同，則為&lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Ref:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://quizbucket.org/explain-each-of-the-following-operators-and-how-and-when-they-should-be-used-eql-equal-4248&quot;&gt;Ruby Interview Questions - Quizbucket&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ruby-doc.org/core-2.5.1/Regexp.html#Public%20Instance%20Methods&quot;&gt;Ruby Doc: rxp === str → true or false&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.runoob.com/ruby/ruby-operator.html&quot;&gt;Ruby算數運算符&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.google.com/presentation/d/1cqdp89_kolr4q1YAQaB-6i5GXip8MHyve8MvQ_1r6_s/edit#slide=id.p&quot;&gt;Ruby Gotchas&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/3422223/vs-in-ruby&quot;&gt;=== vs. == in Ruby&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/4467538/what-does-the-operator-do-in-ruby/4467823#4467823&quot;&gt;What does the “===” operator do in Ruby?&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.skorks.com/2009/08/how-a-ruby-case-statement-works-and-what-you-can-do-with-it/&quot;&gt;How A Ruby Case Statement Works And What You Can Do With It&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://blog.molawson.com/the-power-of-ruby-s-case-statement&quot;&gt;The Power of Ruby’s Case Statement&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://batsov.com/articles/2013/07/10/the-elements-of-style-in-ruby-number-7-the-case-against-equals-equals-equals/&quot;&gt;The Elements of Style in Ruby #7: The Case Against ===&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><summary type="html">前幾天我們把焦點集中在True or False(判斷真假)，今天來研究幾個比較是否相等的方法！在程式世界裡，真假與相等都有更多元、更超乎想像的概念。如果是程式新手，可能會對這幾個看起來特別像的運算子：==, ===, eql?, equal?充滿黑人問號…???</summary></entry></feed>