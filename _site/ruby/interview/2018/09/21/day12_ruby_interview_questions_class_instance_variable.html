<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>30å¤©ä¿®ç…‰Rubyé¢è©¦ç²¾é¸30é¡Œ - Day12 åƒè®Šè¬åŒ–çš„è®Šæ•¸: class variable èˆ‡ class instance variable èˆ‡ instance variable | Tingâ€™s Square.</title>
<meta name="generator" content="Jekyll v3.8.3" />
<meta property="og:title" content="30å¤©ä¿®ç…‰Rubyé¢è©¦ç²¾é¸30é¡Œ - Day12 åƒè®Šè¬åŒ–çš„è®Šæ•¸: class variable èˆ‡ class instance variable èˆ‡ instance variable" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="å‰æƒ…æè¦:" />
<meta property="og:description" content="å‰æƒ…æè¦:" />
<link rel="canonical" href="http://localhost:4000/ruby/interview/2018/09/21/day12_ruby_interview_questions_class_instance_variable.html" />
<meta property="og:url" content="http://localhost:4000/ruby/interview/2018/09/21/day12_ruby_interview_questions_class_instance_variable.html" />
<meta property="og:site_name" content="Tingâ€™s Square." />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-09-21T07:57:00+09:00" />
<script type="application/ld+json">
{"description":"å‰æƒ…æè¦:","@type":"BlogPosting","url":"http://localhost:4000/ruby/interview/2018/09/21/day12_ruby_interview_questions_class_instance_variable.html","headline":"30å¤©ä¿®ç…‰Rubyé¢è©¦ç²¾é¸30é¡Œ - Day12 åƒè®Šè¬åŒ–çš„è®Šæ•¸: class variable èˆ‡ class instance variable èˆ‡ instance variable","dateModified":"2018-09-21T07:57:00+09:00","datePublished":"2018-09-21T07:57:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/ruby/interview/2018/09/21/day12_ruby_interview_questions_class_instance_variable.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Ting's Square." /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Ting&#39;s Square.</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">30å¤©ä¿®ç…‰Rubyé¢è©¦ç²¾é¸30é¡Œ - Day12 åƒè®Šè¬åŒ–çš„è®Šæ•¸: class variable èˆ‡ class instance variable èˆ‡ instance variable </h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2018-09-21T07:57:00+09:00" itemprop="datePublished">Sep 21, 2018
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>å‰æƒ…æè¦:</p>

<p>ç¬¬12å¤©ï¼Œå¾€ç´°ç¯€æ¢ç´¢å»ï¼æ˜¨å¤©æˆ‘å€‘è¬›åˆ°brocæ˜¯æœ‰åå­—çš„å€å¡Šç‰©ä»¶ï¼Œå¯å„²å­˜è®Šæ•¸ï¼›lambdaæ˜¯ä¸€ç¨®methodæ–¹æ³•ï¼Œåš´æ ¼æª¢æŸ¥åƒæ•¸æ•¸ç›®ã€‚ä»Šå¤©æƒ³è¦æ›´æ·±åœ°è¨è«–è®Šæ•¸ï¼šï¼‰</p>

<hr />

<h1 id="rubyç¶“å…¸é¢è©¦é¡Œç›®-12">Rubyç¶“å…¸é¢è©¦é¡Œç›® #12</h1>

<p><code class="highlighter-rouge">Ruby çš„ é¡åˆ¥è®Šæ•¸èˆ‡é¡åˆ¥å¯¦é«”è®Šæ•¸ï¼Œèˆ‡å¯¦é«”è®Šæ•¸æœ‰ä½•ä¸åŒ? What is difference between class variable, class instance variable and instance variable?</code></p>

<p>æˆ‘å€‘æ›¾åœ¨[ç¬¬å››å¤©]æ™‚è¨è«–éé¡åˆ¥æ–¹æ³•å’Œå¯¦é«”æ–¹æ³•ã€‚</p>

<p>é‚„è¨˜å¾—æˆ‘ä¸‹çš„é€™å€‹çµè«–ï¼šå¦‚æœè¦å°‡å¯¦é«”æ–¹æ³•ï¼Œé‹ç”¨åœ¨æŸå€‹å®¢è£½åŒ–çš„å¯¦é«”ï¼Œå°±ä½¿ç”¨instance methodï¼›å¦‚æœæŸå€‹æ–¹æ³•ä¸¦ä¸æœƒå’ŒæŸå€‹ç‰¹å®šçš„å¯¦é«”è®Šæ•¸ç¶åœ¨ä¸€èµ·ï¼Œå°±ä½¿ç”¨class methodã€‚</p>

<h2 id="å¯¦é«”è®Šæ•¸-instance-variable">å¯¦é«”è®Šæ•¸ instance variable</h2>

<p>å¯¦é«”è®Šæ•¸æ˜¯ä¸€å€‹æ¯”è¼ƒå¥½ç†è§£çš„æ¦‚å¿µï¼Œä¾†èˆ‰å€‹ğŸŒ°ä¾‹å­å§ï¼š
æˆ‘æƒ³æŠŠæ¯å¤©è·‘æ­¥çš„å¥½ç¿’æ…£<code class="highlighter-rouge">RunDaily</code>å¯«æˆclassï¼Œç‚ºäº†ç¶­æŒå¥½ç¿’æ…£ï¼Œæ–¹æ³•æœ‰å…©å€‹ï¼šæ—©ä¸Šè·‘<code class="highlighter-rouge">morning_run</code>æˆ–è€…æ™šä¸Šè·‘<code class="highlighter-rouge">evening_run</code>ã€‚ä»Šå¤©æ˜¯ç¬¬12å¤©<code class="highlighter-rouge">day12</code>äº†~å¦‚æœæƒ³æ—©ä¸Šè·‘ï¼Œæœƒå­˜å¯¦é«”è®Šæ•¸5kmï¼Œæ™šä¸Šè·‘å‰‡å­˜10kmã€‚</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">RunDaily</span>
  <span class="k">def</span> <span class="nf">morning_run</span><span class="p">(</span><span class="n">km</span><span class="p">)</span>
    <span class="vi">@mr</span> <span class="o">=</span> <span class="n">km</span>
  <span class="k">end</span>
  <span class="k">def</span> <span class="nf">evening_run</span><span class="p">(</span><span class="n">km</span><span class="p">)</span>
    <span class="vi">@er</span> <span class="o">=</span> <span class="n">km</span>
  <span class="k">end</span>  
<span class="k">end</span>

<span class="n">day12</span> <span class="o">=</span> <span class="no">RunDaily</span><span class="p">.</span><span class="nf">new</span>
<span class="nb">p</span> <span class="n">day12</span><span class="p">.</span><span class="nf">morning_run</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">p</span> <span class="n">day12</span>
<span class="nb">p</span> <span class="n">day12</span><span class="p">.</span><span class="nf">evening_run</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="nb">p</span> <span class="n">day12</span>
</code></pre></div></div>

<p>å¯ä»¥çœ‹åˆ°å¯¦é«”è®Šæ•¸(instance variable)ä»¥ï¼ é–‹é ­ï¼Œä¸éœ€è¦å…ˆåœ¨classé–‹é ­å®£å‘Šã€‚</p>
<blockquote>
  <p>Rubyçš„å¯¦é«”è®Šæ•¸ä¸æ˜¯publicï¼Œåƒ…ä½œç”¨æ–¼æ–¼selfæŒ‡ç¤ºçš„ç‰©ä»¶ã€‚é™¤éæ˜ç¢ºæä¾›å…¶ä»–æ–¹æ³•ï¼Œ
å¦å‰‡ç„¡æ³•å¾ç‰©ä»¶ä»¥å¤–è®Šæ›´æˆ–æŸ¥çœ‹ã€‚<a href="https://guides.ruby.tw/ruby/instancevars.html">åŸæ–‡</a></p>
</blockquote>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">5</span>
<span class="c1">#&lt;RunDaily:0x000055e64755a770 @mr=5&gt;</span>
<span class="mi">10</span>
<span class="c1">#&lt;RunDaily:0x000055e64755a770 @mr=5, @er=10&gt;</span>
</code></pre></div></div>

<p>å¾è¼¸å‡ºçµæœçœ‹åˆ°<code class="highlighter-rouge">day12</code>é€™å€‹ç‰©ä»¶çš„æ–¹æ³•æ˜¯<code class="highlighter-rouge">Rundaily</code>ï¼Œå‹•æ…‹åœ°åŠ å…¥äº†å…©å€‹å¯¦é«”è®Šæ•¸<code class="highlighter-rouge">mr</code>å’Œ<code class="highlighter-rouge">er</code>ã€‚</p>

<h2 id="å¯¦é«”è®Šæ•¸èˆ‡å­˜å–å™¨-accessors">å¯¦é«”è®Šæ•¸èˆ‡å­˜å–å™¨ (Accessors)</h2>

<p>ç‰©ä»¶çš„å¯¦é«”è®Šæ•¸ï¼Œå°±æ˜¯ç‰©ä»¶çš„å±¬æ€§(attribute)ï¼ŒåŒä¸€å€‹classçš„ä¸åŒç‰©ä»¶ï¼Œå…¶å±¬æ€§ä¹Ÿä¸åŒã€‚</p>

<p>å‡å¦‚æˆ‘åœ¨æ˜å¤©ç¬¬13å¤©<code class="highlighter-rouge">Day13</code>é‡åˆ°ä¼‘å‡æ—¥ï¼Œæ‰€ä»¥æ—©ä¸Šä¸€å£æ°£è·‘äº†21kmï¼š</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">day13</span> <span class="o">=</span> <span class="no">RunDaily</span><span class="p">.</span><span class="nf">new</span>
<span class="nb">p</span> <span class="n">day13</span><span class="p">.</span><span class="nf">morning_run</span><span class="p">(</span><span class="mi">21</span><span class="p">)</span>
<span class="nb">p</span> <span class="n">day13</span>
</code></pre></div></div>

<p>çµæœé¡¯ç¤ºæ­¤ç‰©ä»¶å­˜åœ¨æ–¼ä¸åŒçš„è¨˜æ†¶é«”ä½ç½®ï¼Œè€Œä¸”è®Šæ•¸ä¹Ÿä¸åŒï¼š</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">21</span>
<span class="c1">#&lt;RunDaily:0x0000561a9376e1d0 @mr=21&gt;</span>
</code></pre></div></div>

<p>èƒ½å¤ è®€å–é€™äº›è®Šæ•¸çš„å±¬æ€§æ˜¯éå¸¸é‡è¦çš„ï¼Œè®“æˆ‘å€‘å¯ä»¥æ›´æ–¹ä¾¿çš„è®€å–é€™äº›ä¸åŒçš„ç‰©ä»¶ï¼ˆå› ç‚ºï¼Œå‡¡èµ°éå¿…ç•™ä¸‹ç—•è·¡ï¼å°±åƒç¿»é–‹æ—¥è¨˜ä¸€æ¨£ï¼Œæˆ‘æƒ³çŸ¥é“æ¯å€‹ç‰¹å®šçš„æ—¥å­åˆ†åˆ¥è·‘äº†å¹¾å…¬é‡Œ?æˆ–è€…æ˜¯æ¯å¤©éµäººè³½çš„æ–‡ç« å…§å®¹?ï¼‰</p>

<p>å› ç‚ºå‰›å‰›èªªéï¼š</p>
<blockquote>
  <p>Rubyçš„å¯¦é«”è®Šæ•¸ä¸æ˜¯publicï¼Œåƒ…ä½œç”¨æ–¼æ–¼selfæŒ‡ç¤ºçš„ç‰©ä»¶ã€‚é™¤éæ˜ç¢ºæä¾›å…¶ä»–æ–¹æ³•ã€‚</p>
</blockquote>

<p>æ‰€ä»¥ï¼Œç¾åœ¨ä¾†<code class="highlighter-rouge">IronmanDairy</code>é¡åˆ¥è£¡å¯«ä¸€å€‹å±¬æ€§å­˜å–å™¨ (attribute accessors) çš„å…¬é–‹æ–¹æ³•ï¼Œè®“æˆ‘å€‘å¯ä»¥è¨­å®š(<code class="highlighter-rouge">set_dairy</code>)ã€å–å¾—(<code class="highlighter-rouge">get_dairy</code>)æ˜¨å¤©Day12çš„éµäººè³½æ–‡ç« æ¨™é¡Œï¼š</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">IronmanDairy</span>
  <span class="k">def</span> <span class="nf">set_dairy</span><span class="p">(</span><span class="n">title</span><span class="p">)</span> <span class="c1">#write dairy</span>
    <span class="vi">@title</span> <span class="o">=</span> <span class="n">title</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">get_dairy</span> <span class="c1">#read dairy</span>
    <span class="vi">@title</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">day11</span> <span class="o">=</span> <span class="no">IronmanDairy</span><span class="p">.</span><span class="nf">new</span>
<span class="nb">p</span> <span class="n">day11</span>

<span class="n">day11</span><span class="p">.</span><span class="nf">set_dairy</span><span class="p">(</span><span class="s2">"Explain the difference between block, proc, lamdba."</span><span class="p">)</span>
<span class="n">day11</span><span class="p">.</span><span class="nf">get_dairy</span>

<span class="nb">p</span> <span class="n">day11</span>

</code></pre></div></div>

<p>æ—¥è¨˜<code class="highlighter-rouge">day11</code>ç‰©ä»¶è¢«æˆ‘å€‘è®€å–å‡ºä¾†äº†ï¼šçµæœé¡¯ç¤ºå‡ºè¨˜æ†¶é«”ä½ç½®ï¼ŒåŠ<code class="highlighter-rouge">@title</code>å¯¦é«”è®Šæ•¸ï¼š</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#&lt;IronmanDairy:0x000055d4f44e2748&gt;</span>
<span class="c1">#&lt;IronmanDairy:0x000055d4f44e2748 @title="Explain the difference between block, proc, lamdba."&gt;</span>
</code></pre></div></div>

<h2 id="æŒçºŒæ”¹è‰¯version1">[æŒçºŒæ”¹è‰¯:version1]</h2>

<p><code class="highlighter-rouge">set_dairy</code>å’Œ<code class="highlighter-rouge">get_dairy</code>æ–¹æ³•é›–ç„¶è®“æˆ‘å€‘æ˜“æ–¼äº†è§£å±¬æ€§çš„å¯«å…¥èˆ‡è®€å–æ–¹å¼ï¼Œä½†æŠŠç´°ç¯€æ‹†è§£é–‹ä¾†çš„ç¨‹å¼ç¢¼å»é¡¯å¾—éæ–¼å†—é•·ã€‚æ‰€ä»¥æˆ‘å€‘æƒ³çœ‹çœ‹æœ‰æ²’æœ‰æ›´ç°¡åŒ–çš„å¯«æ³•ï¼ˆæ²’éŒ¯ï¼Œåªè¦ä»”ç´°æ‰¾ä¸€æ‰¾æ‰‹å†Šï¼ŒRubyè£¡é€šå¸¸éƒ½æœ‰çš„ï¼ï¼‰</p>

<p>å¦‚æœæˆ‘å€‘è¦å¯«æ–°æ–‡ç« <code class="highlighter-rouge">day12</code>ï¼Œå¯ä»¥ç”¨è¼ƒç°¡å–®çš„æ–¹æ³•å¯«å…¥<code class="highlighter-rouge">title=</code>ä»¥åŠå–å¾—<code class="highlighter-rouge">title</code>æƒ³æŸ¥çœ‹çš„æ–‡ç« æ¨™é¡Œï¼Œå–ä»£åŸæœ¬çš„<code class="highlighter-rouge">set_dairy</code>å’Œ<code class="highlighter-rouge">get_dairy</code>ï¼š</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">IronmanDairy</span>
  <span class="k">def</span> <span class="nf">title</span><span class="o">=</span><span class="p">(</span><span class="n">title</span><span class="p">)</span> <span class="c1">#write dairy</span>
    <span class="vi">@title</span> <span class="o">=</span> <span class="n">title</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">title</span> <span class="c1">#read dairy</span>
    <span class="vi">@title</span>
  <span class="k">end</span>
<span class="k">end</span>


<span class="n">day12</span> <span class="o">=</span> <span class="no">IronmanDairy</span><span class="p">.</span><span class="nf">new</span>
<span class="n">day12</span><span class="p">.</span><span class="nf">title</span> <span class="o">=</span> <span class="s2">"class variable, class instance variable and instance variable"</span>
<span class="nb">p</span> <span class="n">day12</span>
<span class="nb">p</span> <span class="n">day12</span><span class="p">.</span><span class="nf">title</span>
</code></pre></div></div>

<p>çµæœå°å‡ºï¼š</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#&lt;IronmanDairy:0x00005648020c0828&gt;</span>
<span class="c1">#&lt;IronmanDairy:0x00005648020c0828 @title="class variable, class instance variable and instance variable"&gt;</span>
</code></pre></div></div>

<p>å¾ˆå¥½ï¼ç¨‹å¼ç¢¼å°‘äº†ä¸€äº›äº†ã€‚</p>

<p>æ³¨æ„ï¼Œé€™è£¡çš„<code class="highlighter-rouge">title=</code>ä¹Ÿæ˜¯ä¸€å€‹å¯¦é«”æ–¹æ³•ï¼Œæˆ‘å€‘ä¾†ç”¨<code class="highlighter-rouge">.instance_methods</code>ç¢ºèªä¸€ä¸‹ï¼š</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">p</span> <span class="no">IronmanDairy</span><span class="p">.</span><span class="nf">instance_methods</span><span class="p">(</span><span class="kp">false</span><span class="p">)</span> <span class="c1">#=&gt; [:title=, :title]</span>
</code></pre></div></div>

<h2 id="æŒçºŒæ”¹è‰¯version2">[æŒçºŒæ”¹è‰¯:version2]</h2>

<p>æœ‰æ²’æœ‰ç™¼ç¾ä¸Šé¢çš„ç¨‹å¼ç¢¼ä¸­ï¼Œå¤§é‡å‡ºç¾é€™å€‹<code class="highlighter-rouge">@title</code>å¯¦é«”è®Šæ•¸å‘¢ï¼Ÿé‚£æˆ‘å€‘æƒ³è¦ç°¡åŒ–ä¸€ä¸‹ï¼Œå¯ä»¥ç”¨<code class="highlighter-rouge">attr_accessor</code>æ–¹å¼æ”¹å¯«ã€‚å‡è¨­æˆ‘å€‘è¦å‰µä¸€å€‹Day13éµäººè³½æ–‡ç« ç‰©ä»¶ï¼Œç›´æ¥æŠŠå¯¦é«”çš„å±¬æ€§å­˜å–å™¨<code class="highlighter-rouge">attr_accessor :title</code>ï¼ŒæŒ‡å®šçµ¦symbol<code class="highlighter-rouge">:title</code>ï¼ŒåŠ åœ¨é¡åˆ¥çš„é–‹é ­å³å¯ï¼š</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">IronmanDairy</span>
  <span class="nb">attr_accessor</span> <span class="ss">:title</span>
<span class="k">end</span>

<span class="n">day13</span> <span class="o">=</span> <span class="no">IronmanDairy</span><span class="p">.</span><span class="nf">new</span>
<span class="nb">p</span> <span class="n">day13</span> <span class="c1">#&lt;IronmanDairy:0x00005579aee8bc00&gt;</span>

<span class="n">day13</span><span class="p">.</span><span class="nf">title</span> <span class="o">=</span> <span class="s2">"Still thinking..."</span>
<span class="nb">p</span> <span class="n">day13</span> <span class="c1">#&lt;IronmanDairy:0x00005579aee8bc00 @title="Still thinking..."&gt;</span>

<span class="nb">p</span> <span class="n">day13</span><span class="p">.</span><span class="nf">title</span> <span class="c1">#"Still thinking..."</span>

<span class="nb">p</span> <span class="no">IronmanDairy</span><span class="p">.</span><span class="nf">instance_methods</span><span class="p">(</span><span class="kp">false</span><span class="p">)</span> <span class="c1">#[:title=, :title]</span>
</code></pre></div></div>

<p>å¾ä»¥ä¸Šçš„ä¸‰å€‹èˆ‰ä¾‹ï¼Œæ˜¯ä¸æ˜¯èƒ½å¤ å°æ–¼å¯¦é«”è®Šæ•¸æœ‰å…¨æ–¹ä½çš„ç­è§£äº†å‘€ï¼Ÿ</p>

<h2 id="é¡åˆ¥è®Šæ•¸-class-variable">é¡åˆ¥è®Šæ•¸ class variable</h2>

<p>é¡åˆ¥è®Šæ•¸åœ¨é¡åˆ¥é–‹é ­ï¼Œç”¨<code class="highlighter-rouge">@@</code>å®šç¾©ï¼Œå®ƒæ˜¯å€‹å±éšªçš„æ±è¥¿ï¼Œå› ç‚ºæ‰€æœ‰çš„å­é¡åˆ¥ä¸­å°é¡åˆ¥è®Šæ•¸çš„æ”¹å‹•ï¼Œéƒ½æœƒå½±éŸ¿å…¶ä»–é¡åˆ¥çš„è®Šæ•¸ã€‚æˆ‘å€‘ç”¨ã€Œé›å…”åŒç± ã€çš„ä¾‹å­ï¼Œä¾†ç®—ç®—ä¸åŒçš„å‹•ç‰©å„æœ‰å¹¾éš»è…³ï¼š</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Animal</span>
  <span class="vc">@@legs</span> <span class="o">=</span> <span class="kp">nil</span> <span class="c1">#å…ˆé è¨­å‹•ç‰©çš„è…³ç‚ºç©ºå€¼nil</span>
  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">legs</span>
    <span class="vc">@@legs</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="nb">p</span> <span class="no">Animal</span><span class="p">.</span><span class="nf">legs</span> <span class="c1"># =&gt; nil</span>

<span class="k">class</span> <span class="nc">Chicken</span> <span class="o">&lt;</span> <span class="no">Animal</span>
  <span class="vc">@@legs</span> <span class="o">=</span> <span class="mi">2</span>
<span class="k">end</span>
<span class="nb">p</span> <span class="no">Chicken</span><span class="p">.</span><span class="nf">legs</span> <span class="c1"># =&gt; 2</span>
<span class="nb">p</span> <span class="no">Animal</span><span class="p">.</span><span class="nf">legs</span> <span class="c1"># =&gt; 2 è®Šå…©éš»è…³äº†ï¼</span>

<span class="k">class</span> <span class="nc">Rabbit</span> <span class="o">&lt;</span> <span class="no">Animal</span>
  <span class="vc">@@legs</span> <span class="o">=</span> <span class="mi">4</span>
<span class="k">end</span>

<span class="nb">p</span> <span class="no">Rabbit</span><span class="p">.</span><span class="nf">legs</span> <span class="c1"># =&gt; 4</span>
<span class="nb">p</span> <span class="no">Animal</span><span class="p">.</span><span class="nf">legs</span> <span class="c1"># =&gt; 4ï¼Œåˆè®Šå››éš»è…³äº†ï¼</span>


<span class="k">class</span> <span class="nc">Snake</span> <span class="o">&lt;</span> <span class="no">Animal</span> <span class="c1">#ç± å­è£¡åŠ å…¥ä¸€éš»è›‡</span>
  <span class="vc">@@legs</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1">#è›‡æ²’æœ‰è…³ï¼</span>
<span class="k">end</span>

<span class="nb">p</span> <span class="no">Animal</span><span class="p">.</span><span class="nf">legs</span> <span class="c1"># =&gt; 0</span>
<span class="nb">p</span> <span class="no">Snake</span><span class="p">.</span><span class="nf">legs</span> <span class="c1"># =&gt; 0</span>
<span class="nb">p</span> <span class="no">Rabbit</span><span class="p">.</span><span class="nf">legs</span> <span class="c1"># =&gt; 0 ç³Ÿç³•ï¼Œç‚ºä»€éº¼é€™æ¬¡å…”å­æ²’æœ‰è…³ï¼~~è¢«è›‡åƒæ‰äº†~~</span>
</code></pre></div></div>

<p>ç‚ºäº†è§£æ±ºæ­¤å•é¡Œï¼Œæˆ‘å€‘ä¾†ç ”ç©¶Rubyçš„é¡åˆ¥å¯¦é«”è®Šæ•¸ï¼Œçœ‹çœ‹æ˜¯å¦æœ‰æ›´å¥½çš„åšæ³•ã€‚</p>

<h2 id="é¡åˆ¥å¯¦é«”è®Šæ•¸-class-instance-variable">é¡åˆ¥å¯¦é«”è®Šæ•¸ class instance variable</h2>

<p>æˆ‘å€‘åœ¨[Day1]ä¸­é–‹å®—æ˜ç¾©åœ°è§£é‡‹ç‰©ä»¶å°å‘èªè¨€çš„ç²¾é«“ï¼šç‰©ä»¶å¯ä»¥å…·æœ‰é¡åˆ¥å’Œå¯¦é«”è®Šæ•¸ã€‚æ—¢ç„¶é¡åˆ¥ä¹Ÿæ˜¯ä¸€ç¨®ç‰©ä»¶ï¼Œé‚£ã€Œé¡åˆ¥ç‰©ä»¶ã€ç•¶ç„¶å¯ä»¥æœ‰ã€Œé¡åˆ¥çš„å¯¦é«”è®Šæ•¸ã€ã€‚æˆ‘å€‘ç¹¼çºŒã€Œè›‡å…”åŒç± ã€çš„ä¾‹å­ï¼Œèˆ‰ä¾‹å‡ºä¸‰ç¨®è®Šæ•¸<del>å¤§äº‚é¬¥</del>ï¼š</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Animal</span>
  <span class="vc">@@legs</span> <span class="o">=</span> <span class="kp">nil</span> <span class="c1">#è¨­å®šclass variable</span>
  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">legs</span>
    <span class="vc">@@legs</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="nb">p</span> <span class="no">Animal</span><span class="p">.</span><span class="nf">class_variables</span> <span class="c1"># å°å‡ºé¡åˆ¥è®Šæ•¸: @@legs</span>
<span class="nb">p</span> <span class="no">Animal</span><span class="p">.</span><span class="nf">legs</span> <span class="c1">#é¡åˆ¥è®Šæ•¸:ç›®å‰ç‚ºç©ºå€¼ nil</span>

<span class="nb">p</span> <span class="no">Animal</span><span class="p">.</span><span class="nf">instance_variables</span> <span class="c1"># =&gt; [] å°šæœªè¨­å®šå¯¦é«”è®Šæ•¸ï¼Œæ‰€ä»¥æ²’æ±è¥¿</span>

<span class="k">class</span> <span class="nc">Animal</span>
  <span class="nb">attr_accessor</span> <span class="ss">:legs</span> <span class="c1"># è¨­å®šinstance variables</span>
  <span class="vi">@legs</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">end</span>

<span class="nb">p</span> <span class="no">Animal</span><span class="p">.</span><span class="nf">instance_variables</span> <span class="c1"># =&gt; ç¾åœ¨èƒ½å°å‡ºå¯¦é«”è®Šæ•¸: @legs</span>
<span class="nb">p</span> <span class="no">Animal</span><span class="p">.</span><span class="nf">legs</span> <span class="c1">#ä»ç„¶æ˜¯é¡åˆ¥è®Šæ•¸çš„ç©ºå€¼ nil</span>

<span class="k">class</span> <span class="nc">Animal</span>
  <span class="k">class</span> <span class="o">&lt;&lt;</span> <span class="nb">self</span><span class="p">;</span> <span class="nb">attr_accessor</span> <span class="ss">:legs</span> <span class="k">end</span>
  <span class="vi">@legs</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1">#class instance variablesçš„è¨­å®šæ³•ï¼Œå…ˆé è¨­ç‚º1</span>
<span class="k">end</span>

<span class="nb">p</span> <span class="no">Animal</span><span class="p">.</span><span class="nf">legs</span> <span class="c1"># =&gt; 1 #ä¸æ˜¯nilï¼Œä¸æ˜¯0ï¼Œè€Œæ˜¯1 (é¡åˆ¥å¯¦é«”è®Šæ•¸!)</span>

<span class="k">class</span> <span class="nc">Rabbit</span> <span class="o">&lt;</span> <span class="no">Animal</span>
  <span class="vi">@legs</span> <span class="o">=</span> <span class="mi">4</span>
<span class="k">end</span>

<span class="nb">p</span> <span class="no">Rabbit</span><span class="p">.</span><span class="nf">legs</span> <span class="c1"># =&gt; å…”å­4éš»è…³</span>
<span class="nb">p</span> <span class="no">Animal</span><span class="p">.</span><span class="nf">legs</span> <span class="c1"># =&gt; å›åˆ°é¡åˆ¥å¯¦é«”è®Šæ•¸é è¨­å€¼1</span>


<span class="k">class</span> <span class="nc">Snake</span> <span class="o">&lt;</span> <span class="no">Animal</span>
  <span class="vi">@legs</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">end</span>
<span class="nb">p</span> <span class="no">Snake</span><span class="p">.</span><span class="nf">legs</span> <span class="c1"># =&gt; è›‡ 0éš»è…³</span>
<span class="nb">p</span> <span class="no">Rabbit</span><span class="p">.</span><span class="nf">legs</span> <span class="c1"># =&gt; å…”å­é‚„æ˜¯4éš»è…³! å¤ªå¥½äº†ï½æ²’æœ‰è¢«åƒæ‰</span>
<span class="nb">p</span> <span class="no">Animal</span><span class="p">.</span><span class="nf">legs</span> <span class="c1"># =&gt; å›åˆ°é¡åˆ¥å¯¦é«”è®Šæ•¸é è¨­å€¼1</span>
</code></pre></div></div>

<p>ä»¥ä¸Šçš„èˆ‰ä¾‹å¯¦å¯¦åœ¨åœ¨åœ°è­‰æ˜æˆ‘åœ¨é€™æœ¬æ›¸<a href="https://books.google.com.au/books?id=YcmUCgAAQBAJ">Effective Rubyä¸­æ–‡ç‰ˆ-å¯«å‡ºè‰¯å¥½Rubyç¨‹å¼çš„48å€‹å…·é«”åšæ³•</a>Page 56æŸ¥åˆ°çš„è§€é»ï¼šå¯§é¡˜ç”¨é¡åˆ¥å¯¦é«”è®Šæ•¸ï¼Œä¹Ÿä¸è¦ç”¨é¡åˆ¥è®Šæ•¸ã€‚é¡åˆ¥å¯¦é«”è®Šæ•¸é™¤äº†æœƒæ‰“ç ´é¡åˆ¥åŠå…¶å­é¡åˆ¥çš„å…±ç”¨é—œä¿‚ï¼ˆå¦‚åŒæˆ‘å€‘èˆ‰çš„ä¾‹å­ä¸­ï¼Œå‹•ç‰©çš„è…³æ•¸ç›®éš¨æ„è¢«æ”¹è®Šï¼‰ï¼Œä¹Ÿæä¾›æ›´å¤šçš„å°è£ï¼Œè®“é¡åˆ¥å®šç¾©å±¤ç´šã€æˆ–å¾é¡åˆ¥æ–¹æ³•è£¡ï¼Œå”¯ä¸€å¯å­˜å–çš„æ˜¯é¡åˆ¥å¯¦é«”è®Šæ•¸ã€‚</p>

<p>æœ€å¾Œç”¨æ¯”ä¸€æ¯”çš„è¡¨æ ¼ä¾†ç¸½çµï¼šï¼‰</p>

<table>
  <thead>
    <tr>
      <th>é¡åˆ¥è®Šæ•¸class variable</th>
      <th>é¡åˆ¥å¯¦é«”è®Šæ•¸ class instance variable</th>
      <th>å¯¦é«”è®Šæ•¸ instance variable</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>@@é¡åˆ¥è®Šæ•¸</td>
      <td>@é¡åˆ¥å¯¦é«”è®Šæ•¸</td>
      <td>@å¯¦é«”è®Šæ•¸</td>
    </tr>
    <tr>
      <td>åœ¨é¡åˆ¥é–‹é ­è¨­å®š</td>
      <td>å¯ç”¨attr_accessorçš„æ–¹å¼æ”¹å¯«</td>
      <td>å¯ç”¨attr_accessorçš„æ–¹å¼æ”¹å¯«</td>
    </tr>
    <tr>
      <td>å¯ç”¨åœ¨é¡åˆ¥æ–¹æ³•æˆ–å¯¦é«”æ–¹æ³•</td>
      <td>ç”¨åœ¨é¡åˆ¥æ–¹æ³•ï¼Œä¸å¯ç”¨åœ¨å¯¦é«”æ–¹æ³•</td>
      <td>ç”¨åœ¨å¯¦é«”æ–¹æ³•</td>
    </tr>
  </tbody>
</table>

<p>===</p>

<p>Refï¼š</p>

<ul>
  <li><a href="https://coderwall.com/p/yycytw/ruby-on-rails-interview-questions">Ruby on Rails Interview questions</a></li>
  <li><a href="https://guides.ruby.tw/ruby/instancevars.html">Ruby ä½¿ç”¨æ‰‹å†Š - å¯¦ä¾‹è®Šæ•¸ Instance variables</a></li>
  <li><a href="https://guides.ruby.tw/ruby/accessors.html">Ruby ä½¿ç”¨æ‰‹å†Š - å­˜å–å™¨ Accessors</a></li>
  <li><a href="https://books.google.com.au/books?id=YcmUCgAAQBAJ">Effective Rubyä¸­æ–‡ç‰ˆ - å¯«å‡ºè‰¯å¥½Rubyç¨‹å¼çš„48å€‹å…·é«”åšæ³•(é›»å­æ›¸)By Peter J. Jones</a></li>
  <li><a href="https://kaochenlong.com/2015/03/21/attr_accessor/">Ruby èªæ³•æ”¾å¤§é¡ä¹‹ã€Œattr_accessor æ˜¯å¹¹å˜›çš„?ã€</a></li>
  <li><a href="https://ithelp.ithome.com.tw/articles/10160882">Rubyå¥³å­©(21)ï¼šä¾†è½è½é¡åˆ¥è®Šæ•¸èˆ‡é¡åˆ¥å¯¦é«”è®Šæ•¸çš„è‡ªç™½(?)</a></li>
</ul>

  </div><a class="u-url" href="/ruby/interview/2018/09/21/day12_ruby_interview_questions_class_instance_variable.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Ting&#39;s Square.</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Ting&#39;s Square.</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/tingtinghsu"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">tingtinghsu</span></a></li><li><a href="https://www.twitter.com/tingtingtour"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">tingtingtour</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Copyright Ting Ting Hsu</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
