<!DOCTYPE html>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-139879751-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-139879751-1');
</script>

<html lang="en-us">

  <head>
  <link
    rel="stylesheet"
    type="text/css"
    href="//github.com/downloads/lafeber/world-flags-sprite/flags32.css"
  />
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      更換Jekyll版型記錄 &middot; Ting's Square
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/blog/public/css/poole.css">
  <link rel="stylesheet" href="/blog/public/css/syntax.css">
  <link rel="stylesheet" href="/blog/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/blog/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/blog/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <!-- Social Links -->  
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

</head>


  <body class="theme-base-0f">

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>@tingtingtour 2018-2019 My Ruby on Rails Project</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/blog/">Home</a>
    <a class="sidebar-nav-item" href="/blog/tag/interview/">。Interview: Ruby 精選面試題</a>
    <a class="sidebar-nav-item" href="/blog/tag/rubygem/">。RubyGem: 套件研究</a>
    <a class="sidebar-nav-item" href="/blog/tag/git/">。Git: 版本控制</a>       
    <a class="sidebar-nav-item" href="/blog/tag/jekyll">。Blog: Jekyll 靜態網站</a>
    <a class="sidebar-nav-item" href="/blog/tag/heroku/">。Deployment: Heroku 動態網站</a>
 

    <span class="sidebar-nav-item">Ting's Links</span>
  
    <ul>
               
        <a href="https://github.com/tingtinghsu">
          <i class="fa fa-github"></i> GitHub
        </a>       
       
    </ul>
    <ul>  
                 
        <a href="https://tingtingtour.wordpress.com/">
          <i class="fa fa-wordpress"></i> Wordpress
        </a>
          
    </ul>  
    <ul>  
      
        <a href="https://twitter.com/tingtingtour">
          <i class="fa fa-twitter"></i> Twitter
        </a>
            
    </ul>
    <ul>  
      
        <a href="https://instagram.com/tingtingtour">
          <i class="fa fa-instagram"></i> Instagram
        </a>
              
    </ul>
  <!-- Categories -->    


  <!-- Pages -->
        
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
              <a class="sidebar-nav-item" href="/blog/about.html">About Ting Ting</a>
            
          
        
          
        
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
   
  <!-- RSS -->
    <a title="RSS" link rel="alternate" type="application/rss+xml" class="sidebar-nav-item" href="/blog/atom.xml" target="_blank">RSS</a>
  </nav>


  <div class="sidebar-item">  
    <p>
      &copy; Ting Ting Hsu 2019. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h4 class="masthead-title">
            <a href="/blog/" title="Home">Ting's Square</a>
            <small>程式寫作之路</small>
          </h4>
        </div>
      </div>

      <div class="container content">
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-139879751-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-139879751-1');
</script>

<div class="post">
  <h3 class="post-title">更換Jekyll版型記錄</h3>
  <span class="post-date">26 Dec 2018</span>
  <div class="tags">
      
      <small>Tags: </small>
      
        <span class="tag">
          <small> <a href="/blog/tag/jekyll">&nbsp;#jekyll</a></small>
        </span>&nbsp;
      
      <br>
    </div>
  <small> Total : 360 words. </small> <br>
  <br>
  <p>一直以來對於jekyll預設版型不甚滿意。此篇文章紀錄從tingtinghsu.github.io換到<a href="https://tingtinghsu.github.io/blog">https://tingtinghsu.github.io/blog</a> 的工程，修改版型<a href="#註1">(<em>註1</em>)</a>遇到的問題。</p>

<!-- more -->

<h1 id="jekyll資料夾結構">Jekyll資料夾結構</h1>

<p>在倒數計時2018年的12月陸陸續續修改各處程式碼並加上自己想要的需求，現在對於資料夾內結構還算熟悉：</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
|-- index.html   <span class="c">#blog首頁 (render)</span>
|-- _config.yml  <span class="c">#網站設定檔</span>
|
|---/_includes  <span class="c">#網站結構資料夾</span>
|    |--head.html      <span class="c">#標頭檔</span>
|    |--sidebar.html   <span class="c">#側欄目錄檔</span>
|    |--foot.html   <span class="c">#social links</span>
|
|---/_layouts   <span class="c">#版型</span>
|    |--default.html      <span class="c">#預設版型</span>
|    |--page.html   <span class="c">#固定頁面版型，如作者簡介</span>
|    |--post.html   <span class="c">#blog發表文章版型</span>
|    |--tag.html   <span class="c">#以標籤進行分類</span>
|
|---/_posts     <span class="c">#文章資料夾，放置文章之處</span>
|
|---/_site     <span class="c">#render後所產生之檔案，皆位於此處</span>
|    |--index.html
|    |--/articles      <span class="c">#permalink 文章永久連結</span>
|    |--/page2      <span class="c">#pagenation Page2 post集合</span>
|    |--/page3      <span class="c">#pagenation Page3 post集合</span>
|    |--/page4      <span class="c">#pagenation Page4 post集合</span>
|
|    |--/tag        <span class="c">#標籤分類資料夾</span>
|       |--/heroku        <span class="c">#含heroku標籤 post集合</span>
|       |--|-- index.html
|       |--/interview  <span class="c">#含interview標籤 post集合</span>
|       |--|-- index.html
|
|    |--/public     <span class="c">#網路上公開可看到的檔案</span>
|       |--/css     <span class="c">#css</span>
|    |--404.html
|    |--about.html
|    |--atom.xml
|    |--LICENSE.md
|    |--README.md
|
|---/public      <span class="c">#公開檔 (render)</span>
|    |--/css     <span class="c">#css</span>
|-- 404.html     <span class="c">#路徑錯誤提示 (render)</span>
|-- about.html   <span class="c">#作者簡介 (render)</span>
|-- about.md     <span class="c">#作者簡介</span>
|-- Atom.xml   <span class="c">#RSS (render)</span>
|-- LICENSE.md <span class="c">#版權頁 (render)</span>
|-- README.md  <span class="c"># (render)</span>
</code></pre></div></div>

<h1 id="我的舊版blog與新版blog差異">我的舊版blog與新版blog差異</h1>

<table>
  <thead>
    <tr>
      <th>比較</th>
      <th>舊版</th>
      <th>新版</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>遠端</td>
      <td><a href="https://tingtinghsu.github.io">https://tingtinghsu.github.io</a></td>
      <td><a href="https://tingtinghsu.github.io/blog">https://tingtinghsu.github.io/blog</a></td>
    </tr>
    <tr>
      <td>local</td>
      <td><code class="highlighter-rouge">/本機Github/tingtinghsu.github</code></td>
      <td><code class="highlighter-rouge">/本機Github/blog</code></td>
    </tr>
    <tr>
      <td>啟動server</td>
      <td>jekyll server</td>
      <td>jekyll server –port 4001</td>
    </tr>
    <tr>
      <td>本機網址</td>
      <td>http://127.0.0.1:4000/</td>
      <td>http://127.0.0.1:4001/blog/ <a href="#註2">(<em>註2</em>)</a></td>
    </tr>
  </tbody>
</table>

<p>經過了整個12月的改版工程，目前對於版型還挺滿意的！(27-Dec 2018)</p>

<p><strong>舊版型</strong>: <a href="https://github.com/jekyll/minima">minima</a></p>

<p><img src="https://ithelp.ithome.com.tw/upload/images/20181227/20111177DkmAzqdvQ9.png" alt="https://ithelp.ithome.com.tw/upload/images/20181227/20111177DkmAzqdvQ9.png" /></p>

<p><strong>新版型</strong>: <a href="https://github.com/poole/lanyon">lanyon</a></p>

<p><img src="https://ithelp.ithome.com.tw/upload/images/20181227/20111177sGo5iGHe4p.png" alt="https://ithelp.ithome.com.tw/upload/images/20181227/20111177sGo5iGHe4p.png" /></p>

<hr />

<h2 id="編按">編按</h2>

<h3 id="註1">[註1]</h3>

<p>版型修改途中遇到大量問題，例如<code class="highlighter-rouge">push</code>之後收到Github的警告訊息：</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
GitHub opened this alert 9 minutes ago

1 jekyll vulnerability found <span class="k">in</span> Gemfile.lock 9 minutes ago

Remediation
Upgrade jekyll to version 3.8.4 or later. For example:
gem <span class="s2">"jekyll"</span>, <span class="s2">"&gt;= 3.8.4"</span>
Always verify the validity and compatibility of suggestions with your codebase.

Details
CVE-2018-17567

moderate severity

Vulnerable versions: &gt;<span class="o">=</span> 3.8.0, &lt; 3.8.4
Patched version: 3.8.4
Jekyll through 3.6.2, 3.7.x through 3.7.3, and 3.8.x through 3.8.3 allows attackers to access arbitrary files by specifying a symlink <span class="k">in </span>the <span class="s2">"include"</span> key <span class="k">in </span>the <span class="s2">"_config.yml"</span> file.

</code></pre></div></div>

<p>其原因主要來自於<a href="https://pages.github.com/themes/">Jekyll官方支援的版型</a>其Jekyll版本為3.8.4，與穩定的<code class="highlighter-rouge">blog版本3.8.5</code>不相容。</p>

<p>解法：<br />
在搬移內容的過程為了保留舊版本做對照(舊版僅供自己參考)，我將版型改為<code class="highlighter-rouge">Jekyll3.8.5</code>的<a href="http://lanyon.getpoole.com/">lanyon</a>(by <a href="https://github.com/poole/lanyon/commits?author=mdo">@mdo</a>)。</p>

<p>有興趣的朋友可以參考此教學影片: <a href="https://www.youtube.com/watch?v=bty7LHm14CA">How to Install Jekyll Themes?</a>更改blog網址。</p>

<h3 id="註2">[註2]</h3>

<p>如何在本機run多個 Jekyll server，我參考了<a href="https://jekyllrb.com/docs/configuration/options/#serve-command-options">Jekyll官網</a>與<a href="(https://stackoverflow.com/questions/25650749/is-it-possible-to-serve-multiple-jekyll-sites-locally/25650755)">StackOverflow問題</a>，在不同的<code class="highlighter-rouge">port</code> run server。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jekyll server –port 4001
</code></pre></div></div>

</div>

  <div class="related">
    <h5>Related Posts</h5>
    <div class="related-posts"> 
      
      
      
        
        
        <a href="/blog/articles/2019-01-01-add_new_tag_in_jekyll_blog">在jekyll blog加入新tag</a><br>
        
          
        
      
        
          
        
      
        
        
        <a href="/blog/articles/2018-08-25-github_jekyll_blog">在Github用Jekyll創建屬於你自己的blog</a><br>
        
          
        
      
    </div>
</div>

<script type="text/javascript" src="../assets/js/new-tab.js"></script>



      </div>
    </div>

    <div class="foot" align="center">
        
          <a href="https://tingtingtour.wordpress.com/">
            <i class="fa fa-wordpress"></i>
          </a>
        
      
        
          <a href="https://github.com/tingtinghsu">
            <i class="fa fa-github"></i>
          </a>       
        
            
        
          <a href="https://twitter.com/tingtingtour">
            <i class="fa fa-twitter"></i>
          </a>
        
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>

   <!-- a new tab for external URL  -->
  <!-- https://note.pcwu.net/2017/02/05/jekyll-link-new-tab/  -->
  </body>
</html>
